<!-- A html document -->
<!-- 
with standard nbconvert css layout
with standard nbconvert input/output content
standard html tag wrapping
with mathjax loaded
with jupyter wigets
 caption and label elements according to ipub meta tags  
with fuzzingbook adaptations -->None
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /><title>Introduction to Debugging - The Debugging Book</title>

<style type="text/css">
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: var(--jp-cell-editor-active-background) }
.highlight { background: var(--jp-cell-editor-background); color: var(--jp-mirror-editor-variable-color) }
.highlight .c { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment */
.highlight .err { color: var(--jp-mirror-editor-error-color) } /* Error */
.highlight .k { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword */
.highlight .o { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator */
.highlight .p { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation */
.highlight .ch { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Multiline */
.highlight .cp { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Single */
.highlight .cs { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Special */
.highlight .kc { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Type */
.highlight .m { color: var(--jp-mirror-editor-number-color) } /* Literal.Number */
.highlight .s { color: var(--jp-mirror-editor-string-color) } /* Literal.String */
.highlight .ow { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator.Word */
.highlight .w { color: var(--jp-mirror-editor-variable-color) } /* Text.Whitespace */
.highlight .mb { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Bin */
.highlight .mf { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Float */
.highlight .mh { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Hex */
.highlight .mi { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer */
.highlight .mo { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Oct */
.highlight .sa { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Affix */
.highlight .sb { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Backtick */
.highlight .sc { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Char */
.highlight .dl { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Delimiter */
.highlight .sd { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Doc */
.highlight .s2 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Double */
.highlight .se { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Escape */
.highlight .sh { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Heredoc */
.highlight .si { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Interpol */
.highlight .sx { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Other */
.highlight .sr { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Regex */
.highlight .s1 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Single */
.highlight .ss { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Symbol */
.highlight .il { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer.Long */
    </style>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  }
  div.output_wrapper {
    display: block;
    page-break-inside: avoid;
  }
  div.output {
    display: block;
    page-break-inside: avoid;
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script>
<!-- End of mathjax configuration --><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!--[if IE lte 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<style type="text/css">
.ipyfigure { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipyfigure>div { flex:1; }
.ipytable { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipytable>div { flex:1; }

</style>

<link href='https://fonts.googleapis.com/css?family=Fira+Mono:400,500,700|Raleway:300|Source+Code+Pro|Open+Sans' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<meta property="og:url" content="https://www.debuggingbook.org/html/Intro_Debugging.html" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Introduction to Debugging - The Debugging Book" />
<meta property="og:description" content="In this book, we want to explore debugging - the art and science of fixing bugs in computer software. In particular, we want to explore techniques that automatically answer questions like: Where is the bug? When does it occur? And how can we repair it? But before we start automating the debugging process, we first need to understand what this process is.In this chapter, we introduce basic concepts of systematic software debugging and the debugging process, and at the same time get acquainted with Python and interactive notebooks.Prerequisites The book is meant to be a standalone reference; however, a number of great books on debugging are listed at the end, Knowing a bit of Python is helpful for understanding the code examples in the book." />
<meta property="og:image" content="https://www.debuggingbook.org/html/PICS/wordcloud.png" />

<meta name="twitter:dnt" content="on">

<link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-touch-icon.png">

<meta name="msapplication-TileColor" content="#B03A2E">
<meta name="msapplication-config" content="favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
<link rel="manifest" href="favicon/site.webmanifest">

<meta name="viewport" content="width=device-width, initial-scale=1"></head>
 <body>

    <script>
    var close_menus = function() {
        /* doesn't work yet - AZ
        console.log("Closing menus")
        var cssmenu = document.getElementById("cssmenu")
        var all_items = cssmenu.getElementsByTagName("li");
        var i;
        for (i = 0; i < all_items.length; i++) {
            item = all_items[i];
            // console.log("<li>: ")
            // console.log(item.innerHTML);
            var j;
            var all_ul = item.getElementsByTagName("ul");
            for (j = 0; j < all_ul.length; j++) {
                console.log("<ul>: ")
                console.log(all_ul[j].innerHTML);
                all_ul[j].style.display = "none";
            }
            var all_ol = item.getElementsByTagName("ol");
            for (j = 0; j < all_ol.length; j++) {
                console.log("<ol>: ")
                console.log(all_ol[j].innerHTML);
                all_ol[j].style.display = "none";
            }
        }
        */
    };

    $( document ).ready( close_menus );

    // Let navbar fade away when scrolling down
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
        var currentScrollPos = window.pageYOffset;
        if (currentScrollPos > 10 && currentScrollPos > prevScrollpos) {
            // Hide navbar
            var cssmenu = document.getElementById("cssmenu")
            cssmenu.style.opacity = 0;

            // When scrolling, also close all sub-menus
            close_menus();
        }
        else {
            // Make navbar visible
            document.getElementById("cssmenu").style.opacity = 1;
        }
        prevScrollpos = currentScrollPos;
    };
    </script>
    
<nav>
<div id="cssmenu">
  <ul>
     <li class="has-sub"><a href="#"><span title="The Debugging Book"><i class="fa fa-fw fa-bars"></i> </span><span class="menu_1">The Debugging Book</span></a>
        <ol>
           
<li><a href="https://www.debuggingbook.org/"><span class="part_number"><i class="fa fa-fw fa-home"></i></span> About this book</a></li>
<li><a href="https://www.debuggingbook.org/html/00_Table_of_Contents.html"><i class="fa fa-fw fa-sitemap"></i></span> Sitemap</a></li>
<li class="has-sub"><a href="01_Intro.html" class="chapters"><span class="part_number">I</span> Whetting Your Appetite <strong class="new_chapter">&bull;</strong> <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="Tours.html">Tours through the Book <strong class="new_chapter">&bull;</strong></a></li>
<li><a href="Intro_Debugging.html" class="this_page">Introduction to Debugging <strong class="new_chapter">&bull;</strong></a></li>
</ul><li class="has-sub"><a href="02_Observing.html" class="chapters"><span class="part_number">II</span> Observing Executions <strong class="new_chapter">&bull;</strong> <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="Tracer.html">Tracing Executions <strong class="new_chapter">&bull;</strong></a></li>
<li><a href="Debugger.html">How Debuggers Work <strong class="new_chapter">&bull;</strong></a></li>
<li><a href="#" class="not_public">Asserting Expectations</a></li>
<li><a href="#" class="not_public">Debugging Performance Issues</a></li>
</ul><li class="has-sub"><a href="03_Dependencies.html" class="chapters"><span class="part_number">III</span> Flows and Dependencies <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="#" class="not_public">Tracking Failure Origins</a></li>
</ul><li class="has-sub"><a href="04_Reducing.html" class="chapters"><span class="part_number">IV</span> Reducing Failure Causes <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="#" class="not_public">Reducing Failure-Inducing Inputs</a></li>
<li><a href="#" class="not_public">Isolating Failure-Inducing Changes</a></li>
<li><a href="#" class="not_public">Debugging Concurrent Programs</a></li>
</ul><li class="has-sub"><a href="05_Abstracting.html" class="chapters"><span class="part_number">V</span> Abstracting Failures <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="#" class="not_public">Statistical Debugging</a></li>
<li><a href="#" class="not_public">Mining Function Specifications</a></li>
<li><a href="#" class="not_public">Generalizing Failure Circumstances</a></li>
</ul><li class="has-sub"><a href="06_Repairing.html" class="chapters"><span class="part_number">VI</span> Automatic Repair <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="#" class="not_public">Repairing Code Automatically</a></li>
</ul><li class="has-sub"><a href="07_In_the_Large.html" class="chapters"><span class="part_number">VII</span> Debugging in the Large <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="#" class="not_public">Tracking Bugs</a></li>
<li><a href="#" class="not_public">Where the Bugs are</a></li>
</ul><li class="has-sub"><a href="99_Appendices.html" class="chapters">Appendices <i class="fa fa-fw fa-caret-right"></i></a>
<ul>
<li><a href="ExpectError.html">Error Handling</a></li>
<li><a href="Timer.html">Timer</a></li>
<li><a href="ClassDiagram.html">Class Diagrams</a></li>
<li><a href="StackInspector.html">Inspecting Call Stacks</a></li>
</ul>
           <li><a href="https://www.debuggingbook.org/html/00_Index.html">Index (beta)</a></i></li>
        </ol>
     </li>
     <li class="has-sub"><a href="#"><span title="Introduction to Debugging"><i class="fa fa-fw fa-list-ul"></i></span> <span class="menu_2">Introduction to Debugging</span></a>
           <ul><li class="has-sub"><a href="#Synopsis"><i class="fa fa-fw fa-map"></i> Synopsis</a>
</li><li class="has-sub"><a href="#A-Simple-Function">&nbsp;&bull;&nbsp;&nbsp; A Simple Function</a>
<ul><li class="has-sub"><a href="#Your-Task:-Remove-HTML-Markup">Your Task: Remove HTML Markup</a>
</li><li class="has-sub"><a href="#Understanding-Python-Programs">Understanding Python Programs</a>
</li><li class="has-sub"><a href="#Running-a-Function">Running a Function</a>
</li><li class="has-sub"><a href="#Interacting-with-Notebooks">Interacting with Notebooks</a>
</li><li class="has-sub"><a href="#Testing-a-Function">Testing a Function</a>
</ul></li><li class="has-sub"><a href="#Oops!-A-Bug!">&nbsp;&bull;&nbsp;&nbsp; Oops! A Bug!</a>
</li><li class="has-sub"><a href="#Visualizing-Code">&nbsp;&bull;&nbsp;&nbsp; Visualizing Code</a>
</li><li class="has-sub"><a href="#A-First-Fix">&nbsp;&bull;&nbsp;&nbsp; A First Fix</a>
</li><li class="has-sub"><a href="#The-Devil's-Guide-to-Debugging">&nbsp;&bull;&nbsp;&nbsp; The Devil's Guide to Debugging</a>
<ul><li class="has-sub"><a href="#Printf-Debugging">Printf Debugging</a>
</li><li class="has-sub"><a href="#Debugging-into-Existence">Debugging into Existence</a>
</li><li class="has-sub"><a href="#Use-the-Most-Obvious-Fix">Use the Most Obvious Fix</a>
</li><li class="has-sub"><a href="#Things-to-do-Instead">Things to do Instead</a>
</ul></li><li class="has-sub"><a href="#From-Defect-to-Failure">&nbsp;&bull;&nbsp;&nbsp; From Defect to Failure</a>
</li><li class="has-sub"><a href="#From-Failure-to-Defect">&nbsp;&bull;&nbsp;&nbsp; From Failure to Defect</a>
</li><li class="has-sub"><a href="#The-Scientific-Method">&nbsp;&bull;&nbsp;&nbsp; The Scientific Method</a>
<ul><li class="has-sub"><a href="#Finding-a-Hypothesis">Finding a Hypothesis</a>
</li><li class="has-sub"><a href="#Testing-a-Hypothesis">Testing a Hypothesis</a>
</li><li class="has-sub"><a href="#Refining-a-Hypothesis">Refining a Hypothesis</a>
</li><li class="has-sub"><a href="#Refuting-a-Hypothesis">Refuting a Hypothesis</a>
</ul></li><li class="has-sub"><a href="#Fixing-the-Bug">&nbsp;&bull;&nbsp;&nbsp; Fixing the Bug</a>
<ul><li class="has-sub"><a href="#Checking-Diagnoses">Checking Diagnoses</a>
</li><li class="has-sub"><a href="#Fixing-the-Code">Fixing the Code</a>
</li><li class="has-sub"><a href="#Alternate-Paths">Alternate Paths</a>
</ul></li><li class="has-sub"><a href="#Homework-after-the-Fix">&nbsp;&bull;&nbsp;&nbsp; Homework after the Fix</a>
<ul><li class="has-sub"><a href="#Check-for-further-Defect-Occurrences">Check for further Defect Occurrences</a>
</li><li class="has-sub"><a href="#Check-your-Tests">Check your Tests</a>
</li><li class="has-sub"><a href="#Add-Assertions">Add Assertions</a>
</li><li class="has-sub"><a href="#Commit-the-Fix">Commit the Fix</a>
</li><li class="has-sub"><a href="#Close-the-Bug-Report">Close the Bug Report</a>
</ul></li><li class="has-sub"><a href="#Become-a-Better-Debugger">&nbsp;&bull;&nbsp;&nbsp; Become a Better Debugger</a>
<ul><li class="has-sub"><a href="#Follow-the-Process">Follow the Process</a>
</li><li class="has-sub"><a href="#Keep-a-Log">Keep a Log</a>
</li><li class="has-sub"><a href="#Rubberducking">Rubberducking</a>
</ul></li><li class="has-sub"><a href="#The-Cost-of-Debugging">&nbsp;&bull;&nbsp;&nbsp; The Cost of Debugging</a>
</li><li class="has-sub"><a href="#Debugging-Aftermath">&nbsp;&bull;&nbsp;&nbsp; Debugging Aftermath</a>
</li><li class="has-sub"><a href="#History-of-Debugging">&nbsp;&bull;&nbsp;&nbsp; History of Debugging</a>
</li><li class="has-sub"><a href="#Lessons-Learned"><i class="fa fa-fw fa-trophy"></i> Lessons Learned</a>
</li><li class="has-sub"><a href="#Next-Steps"><i class="fa fa-fw fa-arrows"></i> Next Steps</a>
</li><li class="has-sub"><a href="#Background"><i class="fa fa-fw fa-mortar-board"></i> Background</a>
</li><li class="has-sub"><a href="#Exercises"><i class="fa fa-fw fa-edit"></i> Exercises</a>
<ul><li class="has-sub"><a href="#Exercise-1:-Get-Acquainted-with-Notebooks-and-Python">Exercise 1: Get Acquainted with Notebooks and Python</a>
</li><li class="has-sub"><a href="#Exercise-2:-More-Bugs!">Exercise 2: More Bugs!</a>
</ul></li></ul></li>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Resources"><i class="fa fa-fw fa-cube"></i> </span><span class="menu_3">Resources</span></a>
     <ul>
     <li><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?filepath=docs/notebooks/Intro_Debugging.ipynb" target="_blank" class="edit_as_notebook"><i class="fa fa-fw fa-edit"></i> Edit as Notebook</a></li>
     <li><a href="https://www.debuggingbook.org/slides/Intro_Debugging.slides.html" target="_blank"><i class="fa fa-fw fa-video-camera"></i> View Slides</a></li>
     <li><a href="https://www.debuggingbook.org/code/Intro_Debugging.py"><i class="fa fa-fw fa-download"></i> Download Code (.py)</a></li>
     <li><a href="https://www.debuggingbook.org/notebooks/Intro_Debugging.ipynb"><i class="fa fa-fw fa-download"></i> Download Notebook (.ipynb)</a></li>
     <li><a href="https://www.debuggingbook.org/dist/debuggingbook-code.zip"><i class="fa fa-fw fa-cube"></i> All Code (.zip)</a></li>
     <li><a href="https://www.debuggingbook.org/dist/debuggingbook-notebooks.zip"><i class="fa fa-fw fa-cube"></i> All Notebooks (.zip)</a></li>
     <li><a href="https://github.com/uds-se/debuggingbook/" target="_blank"><i class="fa fa-fw fa-github"></i> Project Page</a></li>
     <li><a href="ReleaseNotes.html" target="_blank"><i class="fa fa-fw fa-calendar"></i> Release Notes</a></li>
     </ul>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Share"><i class="fa fa-fw fa-comments"></i> </span> <span class="menu_4">Share</span></a>
        <ul>
            <li><a href="https://twitter.com/intent/tweet?text=I%20just%20read%20%22Introduction%20to%20Debugging%22%20(part%20of%20@Debugging_Book)%20at%20https%3a%2f%2fwww.debuggingbook.org%2fhtml%2fIntro_Debugging.html" target="popup" 
onclick="window.open('https://twitter.com/intent/tweet?text=I%20just%20read%20%22Introduction%20to%20Debugging%22%20(part%20of%20@Debugging_Book)%20at%20https%3a%2f%2fwww.debuggingbook.org%2fhtml%2fIntro_Debugging.html','popup','width=600,height=600'); return false;"
><i class="fa fa-fw fa-twitter"></i> Share on Twitter</a>
            <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.debuggingbook.org%2fhtml%2fIntro_Debugging.html" target="popup" 
onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.debuggingbook.org%2fhtml%2fIntro_Debugging.html','popup','width=600,height=600'); return false;"
><i class="fa fa-fw fa-facebook"></i> Share on Facebook</a>
            <li><a href="mailto:?subject=Introduction%20to%20Debugging&body=I%20just%20read%20%22Introduction%20to%20Debugging%22%20(part%20of%20@Debugging_Book)%20at%20https%3a%2f%2fwww.debuggingbook.org%2fhtml%2fIntro_Debugging.html"><i class="fa fa-fw fa-envelope"></i> Share by Email</a>
            <li><a href="#citation" id="cite" onclick="revealCitation()"><i class="fa fa-fw fa-mortar-board"></i> Cite</a>
        </ul>
     </li>
     <li class="has-sub"><a href="#"><span title="Help"><i class="fa fa-fw fa-question-circle"></i></span> <span class="menu_5">Help</span></a>
        <ul>
          <li><a href="https://www.debuggingbook.org/#Troubleshooting"><i class="fa fa-fw fa-wrench"></i> Troubleshooting</a></li>
          <li><a href="https://docs.python.org/3/tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Python Tutorial</a>
          <li><a href="https://www.dataquest.io/blog/jupyter-notebook-tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Jupyter Notebook Tutorial</a>
          <li><a href="https://github.com/uds-se/debuggingbook/issues/" target="_blank"><i class="fa fa-fw fa-commenting"></i> Report an Issue</a></li>
        </ul>
     </li>
  </ul>
</div>
</nav>

    <article>
   <div tabindex="-1" id="notebook" class="border-box-sizing">
     <div class="container" id="notebook-container">

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Introduction-to-Debugging">Introduction to Debugging<a class="anchor-link" href="#Introduction-to-Debugging">&#182;</a></h1><p>In this book, we want to explore <em>debugging</em> - the art and science of fixing bugs in computer software. In particular, we want to explore techniques that <em>automatically</em> answer questions like: Where is the bug? When does it occur? And how can we repair it? But before we start automating the debugging process, we first need to understand what this process is.</p>
<p>In this chapter, we introduce basic concepts of systematic software debugging and the debugging process, and at the same time get acquainted with Python and interactive notebooks.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="https://github.com/uds-se/fuzzingbook/tree/master/notebooks/bookutils" class="import" target="_blank">bookutils</a></span> <span class="kn">import</span> <span class="n">YouTubeVideo</span><span class="p">,</span> <span class="n">quiz</span>
<span class="n">YouTubeVideo</span><span class="p">(</span><span class="s2">&quot;bCHRCehDOq0&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

        <iframe
            width="640"
            height="360"
            src="https://www.youtube-nocookie.com/embed/bCHRCehDOq0"
            frameborder="0"
            allowfullscreen
        ></iframe>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>The book is meant to be a standalone reference; however, a number of <em>great books on debugging</em> are listed at the end,</li>
<li>Knowing a bit of <em>Python</em> is helpful for understanding the code examples in the book.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><div class="synopsis"><h2 id="Synopsis">Synopsis<a class="anchor-link" href="#Synopsis">&#182;</a></h2><!-- Automatically generated. Do not edit. -->

<p>To <a href="Importing.html">use the code provided in this chapter</a>, write</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn"><a href="Intro_Debugging.html" class="import" target="_blank">debuggingbook.Intro_Debugging</a></span> <span class="kn">import</span> <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span>
</pre></div>
<p>and then make use of the following features.</p>
<p>In this chapter, we introduce some basics of how failures come to be as well as a general process for debugging.</p>
</div>
</div>
</div>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Simple-Function">A Simple Function<a class="anchor-link" href="#A-Simple-Function">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Your-Task:-Remove-HTML-Markup">Your Task: Remove HTML Markup<a class="anchor-link" href="#Your-Task:-Remove-HTML-Markup">&#182;</a></h3><p>Let us start with a simple example. You may have heard of how documents on the Web are made out of text and HTML markup. HTML markup consists of <em>tags</em> in angle brackets that surround the text, providing additional information on how the text should be interpreted. For instance, in the HTML text</p>
<div class="highlight"><pre><span></span>This is <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span>emphasized<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>.
</pre></div>
<p>the word "emphasized" is enclosed in the HTML tags <code>&lt;em&gt;</code> (start) and <code>&lt;/em&gt;</code> (end), meaning that it should be interpreted (and rendered) in an emphasized way – typically in italics. In your environment, the HTML text gets rendered as</p>
<blockquote><p>This is <em>emphasized</em>.</p>
</blockquote>
<p>There's HTML tags for pretty much everything – text markup (<strong>bold</strong> text, <s>strikethrough</s> text), text structure (titles, lists), references (links) to other documents, and many more. These HTML tags shape the Web as we know it.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, with all the HTML markup, it may become difficult to actually access the <em>text</em> that lies within. We'd like to implement a simple function that removes <em>HTML markup</em> and converts it into text. If our input is</p>
<div class="highlight"><pre><span></span>Here&#39;s some <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>strong argument<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>.
</pre></div>
<p>the output should be</p>
<blockquote><p>Here's some strong argument.</p>
</blockquote>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's a Python function which does exactly this. It takes a (HTML) string and returns the text without markup.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">:</span>    <span class="c1"># start of markup</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">:</span>  <span class="c1"># end of markup</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This function works, but not always. Before we start debugging things, let us first explore its code and how it works.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Understanding-Python-Programs">Understanding Python Programs<a class="anchor-link" href="#Understanding-Python-Programs">&#182;</a></h3><p>If you're new to Python, you might first have to understand what the above code does.  We very much recommend the <a href="https://docs.python.org/3/tutorial/">Python tutorial</a> to get an idea on how Python works.  The most important things for you to understand the above code are these three:</p>
<ol>
<li>Python structures programs through <em>indentation</em>, so the function and <code>for</code> bodies are defined by being indented.</li>
<li>Python is <em>dynamically typed</em>, meaning that the type of variables like <code>c</code>, <code>tag</code>, or <code>out</code> is determined at run-time.</li>
<li>Most of Python's syntactic features are inspired by other common languages, such as control structures (<code>while</code>, <code>if</code>, <code>for</code>), assignments (<code>=</code>), or comparisons (<code>==</code>, <code>!=</code>, <code>&lt;</code>).</li>
</ol>
<p>With that, you can already understand what the above code does: <code>remove_html_markup()</code> takes a (HTML) string <code>s</code> and then iterates over the individual characters (<code>for c in s</code>). By default, these characters are added to the return string <code>out</code>. However, if <code>remove_html_markup()</code> finds a <code>&lt;</code> character, it sets the <code>tag</code> flag, meaning that all further characters are ignored until a <code>&gt;</code> character is found.</p>
<p>In contrast to other languages, Python makes no difference between strings and characters – there's only strings. As in HTML, strings can be enclosed in single quotes (<code>'a'</code>) and in double quotes (<code>"a"</code>). This is useful if you want to specify a string that contains quotes, as in <code>'She said "hello", and then left'</code> or <code>"The first character is a 'c'"</code></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Running-a-Function">Running a Function<a class="anchor-link" href="#Running-a-Function">&#182;</a></h3><p>To find out whether <code>remove_html_markup()</code> works correctly, we can <em>test</em> it with a few values.  For the string</p>
<div class="highlight"><pre><span></span>Here&#39;s some <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>strong argument<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>.
</pre></div>
<p>for instance, it produces the correct value:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup</span><span class="p">(</span><span class="s2">&quot;Here&#39;s some &lt;strong&gt;strong argument&lt;/strong&gt;.&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#34;Here&#39;s some strong argument.&#34;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Interacting-with-Notebooks">Interacting with Notebooks<a class="anchor-link" href="#Interacting-with-Notebooks">&#182;</a></h3><p>If you are reading this in the interactive notebook, you can try out <code>remove_html_markup()</code> with other values as well.  Click on the above cells with the invocation of <code>remove_html_markup()</code> and change the value – say, to <code>remove_html_markup("&lt;em&gt;foo&lt;/em&gt;")</code>.  Press <kbd>Shift</kbd>+<kbd>Enter</kbd> (or click on the play symbol) to execute it and see the result.  If you get an error message, go to the above cell with the definition of <code>remove_html_markup()</code> and execute this first.  You can also run <em>all</em> cells at once; see the Notebook menu for details.  (You can actually also change the text by clicking on it, and corect mistaks such as in this sentence.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Executing a single cell does not execute other cells, so if your cell builds on a definition in another cell that you have not executed yet, you will get an error.  You can select <code>Run all cells above</code> from the menu to ensure all definitions are set.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Also keep in mind that, unless overwritten, all definitions are kept across executions.  Occasionally, it thus helps to <em>restart the kernel</em> (i.e. start the Python interpreter from scratch) to get rid of older, superfluous definitions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Testing-a-Function">Testing a Function<a class="anchor-link" href="#Testing-a-Function">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Since one can change not only invocations, but also definitions, we want to ensure that our function works properly now and in the future. To this end, we introduce tests through <em>assertions</em> – a statement that fails if the given <em>check</em> is false. The following assertion, for instance, checks that the above call to <code>remove_html_markup()</code> returns the correct value:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s2">&quot;Here&#39;s some &lt;strong&gt;strong argument&lt;/strong&gt;.&quot;</span><span class="p">)</span> <span class="o">==</span> \
    <span class="s2">&quot;Here&#39;s some strong argument.&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you change the code of <code>remove_html_markup()</code> such that the above assertion fails, you will have introduced a bug.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Oops!-A-Bug!">Oops! A Bug!<a class="anchor-link" href="#Oops!-A-Bug!">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As nice and simple as <code>remove_html_markup()</code> is, it is buggy. Some HTML markup is not properly stripped away. Consider this HTML tag:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&lt;your name&gt;&quot;</span><span class="p">&gt;</span>
</pre></div>
<p>This would render as an input field in a form:</p>
<blockquote><input type="text" value="<your name>">
</blockquote>
<p>If we feed this string into <code>remove_html_markup()</code>, we would expect an empty string as the result. Instead, this is what we get:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;input type=&quot;text&quot; value=&quot;&lt;your name&gt;&quot;&gt;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&#34;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Every time we encounter a bug, this means that our earlier tests have failed. We thus need to introduce another test that documents not only how the bug came to be, but also the result we actually expected.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The assertion we write now fails with an error message. (The <code>ExpectError</code> magic ensures we see the error message, but the rest of the notebook is still executed.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="ExpectError.html" class="import" target="_blank">ExpectError</a></span> <span class="kn">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;input type=&quot;text&quot; value=&quot;&lt;your name&gt;&quot;&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-1-c7b482ebf524&gt;&#34;, line 2, in &lt;module&gt;
    assert remove_html_markup(&#39;&lt;input type=&#34;text&#34; value=&#34;&lt;your name&gt;&#34;&gt;&#39;) == &#34;&#34;
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this, we now have our task: <em>Fix the failure as above.</em></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Visualizing-Code">Visualizing Code<a class="anchor-link" href="#Visualizing-Code">&#182;</a></h2><p>To properly understand what is going on here, it helps drawing a diagram on how <code>remove_html_markup()</code> works. Technically, <code>remove_html_markup()</code> implements a <em>state machine</em> with two states <code>tag</code> and <code>¬ tag</code>. We change between these states depending on the characters we process. This is visualized in the following diagram:</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="273pt" height="94pt"
 viewBox="0.00 0.00 272.79 94.09" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 90.0891)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-90.0891 268.7889,-90.0891 268.7889,4 -4,4"/>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="30.5473" cy="-20.0891" rx="30.5947" ry="18"/>
<text text-anchor="middle" x="30.5473" y="-16.3891" font-family="Raleway" font-size="14.00" fill="#000000">Start</text>
</g>
<!-- ¬ tag -->
<g id="node2" class="node">
<title>¬ tag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="129.9418" cy="-20.0891" rx="31.6951" ry="18"/>
<text text-anchor="middle" x="129.9418" y="-16.3891" font-family="Raleway" font-size="14.00" fill="#000000">¬ tag</text>
</g>
<!-- Start&#45;&gt;¬ tag -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;¬ tag</title>
<path fill="none" stroke="#000000" d="M61.1799,-20.0891C69.5434,-20.0891 78.756,-20.0891 87.6454,-20.0891"/>
<polygon fill="#000000" stroke="#000000" points="87.8621,-23.5892 97.8621,-20.0891 87.862,-16.5892 87.8621,-23.5892"/>
</g>
<!-- ¬ tag&#45;&gt;¬ tag -->
<g id="edge2" class="edge">
<title>¬ tag&#45;&gt;¬ tag</title>
<path fill="none" stroke="#000000" d="M121.0154,-37.499C119.3491,-47.177 122.3246,-56.0891 129.9418,-56.0891 134.7025,-56.0891 137.6501,-52.6078 138.7845,-47.6341"/>
<polygon fill="#000000" stroke="#000000" points="142.2854,-47.5276 138.8681,-37.499 135.2856,-47.4698 142.2854,-47.5276"/>
<text text-anchor="middle" x="129.9418" y="-74.8891" font-family="Raleway" font-size="14.00" fill="#000000"> ¬ &#39;&lt;&#39;</text>
<text text-anchor="middle" x="129.9418" y="-59.8891" font-family="Raleway" font-size="14.00" fill="#000000">add character</text>
</g>
<!-- tag -->
<g id="node3" class="node">
<title>tag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="237.7889" cy="-20.0891" rx="27" ry="18"/>
<text text-anchor="middle" x="237.7889" y="-16.3891" font-family="Raleway" font-size="14.00" fill="#000000">tag</text>
</g>
<!-- ¬ tag&#45;&gt;tag -->
<g id="edge3" class="edge">
<title>¬ tag&#45;&gt;tag</title>
<path fill="none" stroke="#000000" d="M162.0075,-20.0891C174.1345,-20.0891 188.0371,-20.0891 200.5957,-20.0891"/>
<polygon fill="#000000" stroke="#000000" points="200.7605,-23.5892 210.7605,-20.0891 200.7604,-16.5892 200.7605,-23.5892"/>
<text text-anchor="middle" x="186.2889" y="-23.8891" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&lt;&#39;</text>
</g>
<!-- tag&#45;&gt;¬ tag -->
<g id="edge4" class="edge">
<title>tag&#45;&gt;¬ tag</title>
<path fill="none" stroke="#000000" d="M216.3779,-8.994C209.0911,-5.7803 200.7682,-2.7046 192.7889,-1.0891 182.8388,.9253 172.2054,-.7615 162.5683,-3.8181"/>
<polygon fill="#000000" stroke="#000000" points="161.1038,-.6287 152.9565,-7.4016 163.5492,-7.1877 161.1038,-.6287"/>
<text text-anchor="middle" x="186.2889" y="-4.8891" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&gt;&#39;</text>
</g>
<!-- tag&#45;&gt;tag -->
<g id="edge5" class="edge">
<title>tag&#45;&gt;tag</title>
<path fill="none" stroke="#000000" d="M228.9289,-37.1264C227.1207,-46.947 230.0741,-56.0891 237.7889,-56.0891 242.6107,-56.0891 245.5725,-52.518 246.6744,-47.4421"/>
<polygon fill="#000000" stroke="#000000" points="250.1737,-47.1178 246.6489,-37.1264 243.1737,-47.1351 250.1737,-47.1178"/>
<text text-anchor="middle" x="237.7889" y="-59.8891" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&gt;&#39;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>You see that we start in the non-tag state (<code>¬ tag</code>). Here, for every character that is not <code>'&lt;'</code>, we add the character and stay in the same state. When we read a <code>'&lt;'</code>, though, we end in the tag state (<code>tag</code>) and stay in that state (skipping characters) until we find a closing <code>'&gt;'</code> character.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-First-Fix">A First Fix<a class="anchor-link" href="#A-First-Fix">&#182;</a></h2><p>We will now iteratively try to find a correct solution to our bug. On the way we will come up with different <em>interim solutions</em> that bring us closer and closer to the perfect code. Of course, we could come up with a near-perfect solution right away, but each of these interim solutions illustrate some of the reasonings and techniques we can use during debugging.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us look at the above state machine, and process through our input:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&lt;your name&gt;&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So what you can see is: We are interpreting the <code>'&gt;'</code> of <code>"&lt;your name&gt;"</code> as the closing of the tag. However, this is a quoted string, so the <code>'&gt;'</code> should be interpreted as a regular character, not as markup. This is an example of <em>missing functionality:</em> We do not handle quoted characters correctly. We haven't claimed yet to take care of all functionality, so we still need to extend our code.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So we extend the whole thing.  We set up a special "quote" state which processes quoted inputs in tags until the end of the quoted string is reached. This is how the state machine looks like:</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="466pt" height="110pt"
 viewBox="0.00 0.00 465.55 109.74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105.7401)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-105.7401 461.5525,-105.7401 461.5525,4 -4,4"/>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="30.5473" cy="-26.8701" rx="30.5947" ry="18"/>
<text text-anchor="middle" x="30.5473" y="-23.1701" font-family="Raleway" font-size="14.00" fill="#000000">Start</text>
</g>
<!-- ¬ quote\n¬ tag -->
<g id="node2" class="node">
<title>¬ quote\n¬ tag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="144.7636" cy="-26.8701" rx="46.8387" ry="26.7407"/>
<text text-anchor="middle" x="144.7636" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ quote</text>
<text text-anchor="middle" x="144.7636" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ tag</text>
</g>
<!-- Start&#45;&gt;¬ quote\n¬ tag -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M61.1552,-26.8701C69.3169,-26.8701 78.4066,-26.8701 87.5014,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="87.7228,-30.3702 97.7228,-26.8701 87.7228,-23.3702 87.7228,-30.3702"/>
</g>
<!-- ¬ quote\n¬ tag&#45;&gt;¬ quote\n¬ tag -->
<g id="edge2" class="edge">
<title>¬ quote\n¬ tag&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M132.8105,-53.1406C132.2793,-63.2978 136.2636,-71.7401 144.7636,-71.7401 150.2089,-71.7401 153.801,-68.2754 155.5399,-63.1146"/>
<polygon fill="#000000" stroke="#000000" points="159.0208,-63.4818 156.7168,-53.1406 152.069,-62.6615 159.0208,-63.4818"/>
<text text-anchor="middle" x="144.7636" y="-90.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&lt;&#39;</text>
<text text-anchor="middle" x="144.7636" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">add character</text>
</g>
<!-- ¬ quote\ntag -->
<g id="node3" class="node">
<title>¬ quote\ntag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="287.1017" cy="-26.8701" rx="46.8387" ry="26.7407"/>
<text text-anchor="middle" x="287.1017" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ quote</text>
<text text-anchor="middle" x="287.1017" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">tag</text>
</g>
<!-- ¬ quote\n¬ tag&#45;&gt;¬ quote\ntag -->
<g id="edge3" class="edge">
<title>¬ quote\n¬ tag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M191.7649,-26.8701C204.0329,-26.8701 217.388,-26.8701 230.1127,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="230.1498,-30.3702 240.1498,-26.8701 230.1497,-23.3702 230.1498,-30.3702"/>
<text text-anchor="middle" x="215.9327" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&lt;&#39;</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;¬ quote\n¬ tag -->
<g id="edge8" class="edge">
<title>¬ quote\ntag&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M246.7874,-13.1073C238.8065,-10.93 230.4246,-9.0198 222.4327,-7.8701 212.8466,-6.491 202.7171,-7.2747 193.0521,-9.1447"/>
<polygon fill="#000000" stroke="#000000" points="192.136,-5.7643 183.1907,-11.4417 193.7241,-12.5819 192.136,-5.7643"/>
<text text-anchor="middle" x="215.9327" y="-11.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&gt;&#39;</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;¬ quote\ntag -->
<g id="edge5" class="edge">
<title>¬ quote\ntag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M274.4015,-53.1406C273.8371,-63.2978 278.0705,-71.7401 287.1017,-71.7401 292.8874,-71.7401 296.704,-68.2754 298.5515,-63.1146"/>
<polygon fill="#000000" stroke="#000000" points="302.0308,-63.4983 299.8019,-53.1406 295.0851,-62.6275 302.0308,-63.4983"/>
<text text-anchor="middle" x="287.1017" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&quot;&#39; ∧ ¬ &#39;&gt;&#39;</text>
</g>
<!-- quote\ntag -->
<g id="node4" class="node">
<title>quote\ntag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="418.6616" cy="-26.8701" rx="38.7821" ry="26.7407"/>
<text text-anchor="middle" x="418.6616" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">quote</text>
<text text-anchor="middle" x="418.6616" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">tag</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;quote\ntag -->
<g id="edge4" class="edge">
<title>¬ quote\ntag&#45;&gt;quote\ntag</title>
<path fill="none" stroke="#000000" d="M333.8553,-26.8701C345.3941,-26.8701 357.7875,-26.8701 369.4395,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="369.4482,-30.3702 379.4482,-26.8701 369.4482,-23.3702 369.4482,-30.3702"/>
<text text-anchor="middle" x="356.7708" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&quot;&#39;</text>
</g>
<!-- quote\ntag&#45;&gt;¬ quote\ntag -->
<g id="edge7" class="edge">
<title>quote\ntag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M384.8162,-13.5899C377.339,-11.2158 369.3766,-9.1066 361.7708,-7.8701 352.9453,-6.4353 343.6379,-7.0451 334.7019,-8.7297"/>
<polygon fill="#000000" stroke="#000000" points="333.7592,-5.3556 324.8162,-11.0366 335.35,-12.1724 333.7592,-5.3556"/>
<text text-anchor="middle" x="356.7708" y="-11.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&quot;&#39;</text>
</g>
<!-- quote\ntag&#45;&gt;quote\ntag -->
<g id="edge6" class="edge">
<title>quote\ntag&#45;&gt;quote\ntag</title>
<path fill="none" stroke="#000000" d="M407.4803,-52.6914C406.8486,-63.0476 410.5757,-71.7401 418.6616,-71.7401 423.8417,-71.7401 427.2329,-68.1727 428.8352,-62.8859"/>
<polygon fill="#000000" stroke="#000000" points="432.3422,-62.9872 429.843,-52.6914 425.3761,-62.2985 432.3422,-62.9872"/>
<text text-anchor="middle" x="418.6616" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&quot;&#39;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is a bit more complex already. Proceeding from left to right, we first have the state <code>¬ quote ∧ ¬ tag</code>, which is our "standard" state for text. If we encounter a <code>'&lt;'</code>, we again switch to the "tagged" state <code>¬ quote ∧ tag</code>. In this state, however (and only in this state), if we encounter a quotation mark, we switch to the "quotation" state <code>quote ∧ tag</code>, in which we remain until we see another quotation mark indicating the end of the string – and then continue in the "tagged" state <code>¬ quote ∧ tag</code> until we see the end of the string.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Things get even more complicated as HTML allows both single and double quotation characters. Here's a revised implementation of <code>remove_html_markup()</code> that takes the above states into account:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now, our previous input works well:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;input type=&quot;text&quot; value=&quot;&lt;your name&gt;&quot;&gt;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>and our earlier tests also pass:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s2">&quot;Here&#39;s some &lt;strong&gt;strong argument&lt;/strong&gt;.&quot;</span><span class="p">)</span> <span class="o">==</span> \
    <span class="s2">&quot;Here&#39;s some strong argument.&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;input type=&quot;text&quot; value=&quot;&lt;your name&gt;&quot;&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, the above code still has a bug.  In two of these inputs, HTML markup is still not properly stripped:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>foo<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>&quot;foo&quot;<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>
&quot;<span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>foo<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>&quot;
<span class="err">&lt;</span>&quot;b&quot;&gt;foo<span class="err">&lt;</span>/&quot;b&quot;&gt;
</pre></div>
<p>Can you guess which ones these are?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, a simple assertion will reveal the culprits:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;foo&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-1-ebb80f5cdc78&gt;&#34;, line 2, in &lt;module&gt;
    assert remove_html_markup(&#39;&lt;b&gt;&#34;foo&#34;&lt;/b&gt;&#39;) == &#39;&#34;foo&#34;&#39;
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&quot;&lt;b&gt;foo&lt;/b&gt;&quot;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-1-1f9c40f6f95d&gt;&#34;, line 2, in &lt;module&gt;
    assert remove_html_markup(&#39;&#34;&lt;b&gt;foo&lt;/b&gt;&#34;&#39;) == &#39;&#34;foo&#34;&#39;
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;&quot;b&quot;&gt;foo&lt;/&quot;b&quot;&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, unfortunately, we're not done yet – our function still has errors.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="The-Devil's-Guide-to-Debugging">The Devil's Guide to Debugging<a class="anchor-link" href="#The-Devil's-Guide-to-Debugging">&#182;</a></h2><p>Let us now discuss a couple of methods that do <em>not</em> work well for debugging. (These "devil's suggestions" are adapted from the 1993 book "Code Complete" from Steve McConnell.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Printf-Debugging">Printf Debugging<a class="anchor-link" href="#Printf-Debugging">&#182;</a></h3><p>When I was a student, I never got any formal training in debugging, so I had to figure this out for myself. What I learned was how to use <em>debugging output</em>; in Python, this would be the <code>print()</code> function. For instance, I would go and scatter <code>print()</code> calls everywhere:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup_with_print</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c =&quot;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s2">&quot;tag =&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;quote =&quot;</span><span class="p">,</span> <span class="n">quote</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This way of inspecting executions is commonly called "Printf debugging", after the C <code>printf()</code> function. Then, running this would allow me to see what's going on in my code:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup_with_print</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>c = &#39;&lt;&#39; tag = False quote = False
c = &#39;b&#39; tag = True quote = False
c = &#39;&gt;&#39; tag = True quote = False
c = &#39;&#34;&#39; tag = False quote = False
c = &#39;f&#39; tag = False quote = True
c = &#39;o&#39; tag = False quote = True
c = &#39;o&#39; tag = False quote = True
c = &#39;&#34;&#39; tag = False quote = True
c = &#39;&lt;&#39; tag = False quote = False
c = &#39;/&#39; tag = True quote = False
c = &#39;b&#39; tag = True quote = False
c = &#39;&gt;&#39; tag = True quote = False
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;foo&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Yes, one sees what is going on – but this is horribly inefficient!  Think of a 1,000-character input – you'd have to go through 1,000 lines of logs.  It may help you, but it's a total time waster.  Plus, you have to enter these statements, remove them again... it's a maintenance nightmare.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>(You may even forget printf's in your code, creating a security problem: Mac OS X versions 10.7 to 10.7.3 would log the password in clear because someone had forgotten to turn off debugging output.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Debugging-into-Existence">Debugging into Existence<a class="anchor-link" href="#Debugging-into-Existence">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>I would also try to <em>debug the program into existence.</em>  Just change things until they work.  Let me see: If I remove the conditions "and not quote" from the program, it would actually work again:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup_without_quotes</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">:</span>  <span class="c1"># and not quote:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">:</span>  <span class="c1"># and not quote:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">remove_html_markup_without_quotes</span><span class="p">(</span><span class="s1">&#39;&lt;b id=&quot;bar&quot;&gt;foo&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Cool! Unfortunately, the function still fails on the other input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">remove_html_markup_without_quotes</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-1-1d8954a52bcf&gt;&#34;, line 2, in &lt;module&gt;
    assert remove_html_markup_without_quotes(&#39;&lt;b&gt;&#34;foo&#34;&lt;/b&gt;&#39;) == &#39;&#34;foo&#34;&#39;
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, maybe we can change things again, such that both work? And maybe the other tests we had earlier won't fail? Let's just continue to change things randomly again and again and again.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Oh, and of course, I would never back up earlier versions such that I would be able to keep track of what has changed and when.
Especially keep in mind that our tests will never cover all corner cases. Randomly patching code will just lead to harder to find bugs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Use-the-Most-Obvious-Fix">Use the Most Obvious Fix<a class="anchor-link" href="#Use-the-Most-Obvious-Fix">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>My favorite: Use the most obvious fix.  This means that you're fixing the symptom, not the problem. In our case, this would be something like:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup_fixed</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
    <span class="o">...</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Miracle! Our earlier failing assertion now works! Now we can do the same for the other failing test, too, and we're done.
(Rumor has it that some programmers use this technique to get their tests to pass...)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Things-to-do-Instead">Things to do Instead<a class="anchor-link" href="#Things-to-do-Instead">&#182;</a></h3><p>As with any devil's guide, you get an idea of how to do things by doing the <em>opposite.</em>  What this means is:</p>
<ol>
<li>Understand the code</li>
<li>Fix the problem, not the symptom</li>
<li>Proceed systematically</li>
</ol>
<p>which is what we will apply for the rest of this chapter.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="From-Defect-to-Failure">From Defect to Failure<a class="anchor-link" href="#From-Defect-to-Failure">&#182;</a></h2><p>To understand how to systematically debug a program, we first have to understand <em>how failures come to be.</em> The typical debugging situation looks like this:</p>
<ul>
<li>We have a program (execution), taking some input and producing some output.</li>
<li>The output is in <em>error</em> (✘), meaning an unwanted and unintended deviation from what is correct, right, or true.</li>
<li>The input, in contrast, is assumed to be correct (✔) – that is, it should be properly processed by the program in question. </li>
</ul>
<p>If the input is incorrect, we wouldn't normally be searching for the bug in our program, but in whatever produced its input. If the input is under control of a third party, though (which typically is the case for <em>system inputs</em>), your program must check its correctness and reject it if it is incorrect. Once your program accepts a system input as valid, it must be properly processed by the program in question.</p>
<p>Hence, the (very simple) situation we're having can be shown as:</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="243pt" height="44pt"
 viewBox="0.00 0.00 243.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 239,-40 239,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<polygon fill="#ffffff" stroke="transparent" points="235,-36 162,-36 162,0 235,0 235,-36"/>
<text text-anchor="middle" x="198.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">Output ✘</text>
</g>
<!-- input&#45;&gt;output -->
<g id="edge1" class="edge">
<title>input&#45;&gt;output</title>
<path fill="none" stroke="#000000" d="M61.3138,-18C86.5393,-18 122.6356,-18 151.4709,-18"/>
<polygon fill="#000000" stroke="#000000" points="151.7323,-21.5001 161.7323,-18 151.7323,-14.5001 151.7323,-21.5001"/>
<text text-anchor="middle" x="111.5" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Execution</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This situation we see above is what we call a <em>failure</em>: An externally visible <em>error</em> in the program behavior, with the error again being an unwanted and unintended deviation from what is correct, right, or true.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How does this failure come to be? The execution we see above breaks down into several program <em>states</em>, one after the other.</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="69pt" height="44pt"
 viewBox="0.00 0.00 69.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 65,-40 65,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="176pt" height="44pt"
 viewBox="0.00 0.00 176.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 172,-40 172,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="168,-36 97,-36 97,0 168,0 168,-36"/>
<text text-anchor="middle" x="132.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1034,-18C69.2014,-18 78.1208,-18 86.8305,-18"/>
<polygon fill="#000000" stroke="#000000" points="86.897,-21.5001 96.897,-18 86.8969,-14.5001 86.897,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="284pt" height="44pt"
 viewBox="0.00 0.00 284.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 280,-40 280,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="168,-36 97,-36 97,0 168,0 168,-36"/>
<text text-anchor="middle" x="132.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1034,-18C69.2014,-18 78.1208,-18 86.8305,-18"/>
<polygon fill="#000000" stroke="#000000" points="86.897,-21.5001 96.897,-18 86.8969,-14.5001 86.897,-21.5001"/>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="276,-36 204,-36 204,0 276,0 276,-36"/>
<text text-anchor="middle" x="240" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M168.2959,-18C176.4594,-18 185.247,-18 193.7767,-18"/>
<polygon fill="#000000" stroke="#000000" points="193.9939,-21.5001 203.9938,-18 193.9938,-14.5001 193.9939,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="392pt" height="44pt"
 viewBox="0.00 0.00 392.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 388,-40 388,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="168,-36 97,-36 97,0 168,0 168,-36"/>
<text text-anchor="middle" x="132.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1034,-18C69.2014,-18 78.1208,-18 86.8305,-18"/>
<polygon fill="#000000" stroke="#000000" points="86.897,-21.5001 96.897,-18 86.8969,-14.5001 86.897,-21.5001"/>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="276,-36 204,-36 204,0 276,0 276,-36"/>
<text text-anchor="middle" x="240" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M168.2959,-18C176.4594,-18 185.247,-18 193.7767,-18"/>
<polygon fill="#000000" stroke="#000000" points="193.9939,-21.5001 203.9938,-18 193.9938,-14.5001 193.9939,-21.5001"/>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="384,-36 312,-36 312,0 384,0 384,-36"/>
<text text-anchor="middle" x="348" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 3 ✘</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2&#45;&gt;s3</title>
<path fill="none" stroke="#000000" d="M276.2629,-18C284.3661,-18 293.0689,-18 301.5209,-18"/>
<polygon fill="#000000" stroke="#000000" points="301.649,-21.5001 311.649,-18 301.649,-14.5001 301.649,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="501pt" height="44pt"
 viewBox="0.00 0.00 501.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 497,-40 497,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="168,-36 97,-36 97,0 168,0 168,-36"/>
<text text-anchor="middle" x="132.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1034,-18C69.2014,-18 78.1208,-18 86.8305,-18"/>
<polygon fill="#000000" stroke="#000000" points="86.897,-21.5001 96.897,-18 86.8969,-14.5001 86.897,-21.5001"/>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="276,-36 204,-36 204,0 276,0 276,-36"/>
<text text-anchor="middle" x="240" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M168.2959,-18C176.4594,-18 185.247,-18 193.7767,-18"/>
<polygon fill="#000000" stroke="#000000" points="193.9939,-21.5001 203.9938,-18 193.9938,-14.5001 193.9939,-21.5001"/>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="384,-36 312,-36 312,0 384,0 384,-36"/>
<text text-anchor="middle" x="348" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 3 ✘</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2&#45;&gt;s3</title>
<path fill="none" stroke="#000000" d="M276.2629,-18C284.3661,-18 293.0689,-18 301.5209,-18"/>
<polygon fill="#000000" stroke="#000000" points="301.649,-21.5001 311.649,-18 301.649,-14.5001 301.649,-21.5001"/>
</g>
<!-- output -->
<g id="node5" class="node">
<title>output</title>
<polygon fill="#ffffff" stroke="transparent" points="493,-36 420,-36 420,0 493,0 493,-36"/>
<text text-anchor="middle" x="456.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">Output ✘</text>
</g>
<!-- s3&#45;&gt;output -->
<g id="edge4" class="edge">
<title>s3&#45;&gt;output</title>
<path fill="none" stroke="#000000" d="M384.1289,-18C392.2806,-18 401.0491,-18 409.5719,-18"/>
<polygon fill="#000000" stroke="#000000" points="409.7882,-21.5001 419.7881,-18 409.7881,-14.5001 409.7882,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Initially, the program state is still correct (✔). However, at some point in the execution, the state gets an <em>error</em>, also known as a <em>fault</em>. This fault – again an unwanted and unintended deviation from what is correct, right, or true – then propagates along the execution, until it becomes externally visible as a <em>failure</em>.
(In reality, there are many, many more states than just this, but these would not fit in a diagram.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How does a fault come to be? Each of these program states is produced by a <em>step</em> in the program code. These steps take a state as input and produce another state as output. Technically speaking, the program inputs and outputs are also parts of the program state, so the input flows into the first step, and the output is the state produced by the last step.</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="69pt" height="44pt"
 viewBox="0.00 0.00 69.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 65,-40 65,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="216pt" height="44pt"
 viewBox="0.00 0.00 216.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 212,-40 212,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="208,-36 137,-36 137,0 208,0 208,-36"/>
<text text-anchor="middle" x="172.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.3119,-18C80.4487,-18 105.3936,-18 126.8056,-18"/>
<polygon fill="#000000" stroke="#000000" points="126.9923,-21.5001 136.9923,-18 126.9922,-14.5001 126.9923,-21.5001"/>
<text text-anchor="middle" x="99" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="376pt" height="44pt"
 viewBox="0.00 0.00 376.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 372,-40 372,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="208,-36 137,-36 137,0 208,0 208,-36"/>
<text text-anchor="middle" x="172.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.3119,-18C80.4487,-18 105.3936,-18 126.8056,-18"/>
<polygon fill="#000000" stroke="#000000" points="126.9923,-21.5001 136.9923,-18 126.9922,-14.5001 126.9923,-21.5001"/>
<text text-anchor="middle" x="99" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="368,-36 296,-36 296,0 368,0 368,-36"/>
<text text-anchor="middle" x="332" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M208.2949,-18C231.119,-18 260.9284,-18 285.5659,-18"/>
<polygon fill="#000000" stroke="#000000" points="285.7727,-21.5001 295.7727,-18 285.7727,-14.5001 285.7727,-21.5001"/>
<text text-anchor="middle" x="252" y="-21.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="526pt" height="44pt"
 viewBox="0.00 0.00 526.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 522,-40 522,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="208,-36 137,-36 137,0 208,0 208,-36"/>
<text text-anchor="middle" x="172.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.3119,-18C80.4487,-18 105.3936,-18 126.8056,-18"/>
<polygon fill="#000000" stroke="#000000" points="126.9923,-21.5001 136.9923,-18 126.9922,-14.5001 126.9923,-21.5001"/>
<text text-anchor="middle" x="99" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="368,-36 296,-36 296,0 368,0 368,-36"/>
<text text-anchor="middle" x="332" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M208.2949,-18C231.119,-18 260.9284,-18 285.5659,-18"/>
<polygon fill="#000000" stroke="#000000" points="285.7727,-21.5001 295.7727,-18 285.7727,-14.5001 285.7727,-21.5001"/>
<text text-anchor="middle" x="252" y="-21.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="518,-36 446,-36 446,0 518,0 518,-36"/>
<text text-anchor="middle" x="482" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 3 ✘</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2&#45;&gt;s3</title>
<path fill="none" stroke="#000000" d="M368.3108,-18C388.5036,-18 413.8489,-18 435.4814,-18"/>
<polygon fill="#000000" stroke="#000000" points="435.7639,-21.5001 445.7639,-18 435.7639,-14.5001 435.7639,-21.5001"/>
<text text-anchor="middle" x="407" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 3</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="636pt" height="44pt"
 viewBox="0.00 0.00 636.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 632,-40 632,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="208,-36 137,-36 137,0 208,0 208,-36"/>
<text text-anchor="middle" x="172.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">State 1 ✔</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.3119,-18C80.4487,-18 105.3936,-18 126.8056,-18"/>
<polygon fill="#000000" stroke="#000000" points="126.9923,-21.5001 136.9923,-18 126.9922,-14.5001 126.9923,-21.5001"/>
<text text-anchor="middle" x="99" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="368,-36 296,-36 296,0 368,0 368,-36"/>
<text text-anchor="middle" x="332" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 2 ✘</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="#000000" d="M208.2949,-18C231.119,-18 260.9284,-18 285.5659,-18"/>
<polygon fill="#000000" stroke="#000000" points="285.7727,-21.5001 295.7727,-18 285.7727,-14.5001 285.7727,-21.5001"/>
<text text-anchor="middle" x="252" y="-21.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="518,-36 446,-36 446,0 518,0 518,-36"/>
<text text-anchor="middle" x="482" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">State 3 ✘</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2&#45;&gt;s3</title>
<path fill="none" stroke="#000000" d="M368.3108,-18C388.5036,-18 413.8489,-18 435.4814,-18"/>
<polygon fill="#000000" stroke="#000000" points="435.7639,-21.5001 445.7639,-18 435.7639,-14.5001 435.7639,-21.5001"/>
<text text-anchor="middle" x="407" y="-21.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 3</text>
</g>
<!-- output -->
<g id="node5" class="node">
<title>output</title>
<polygon fill="#ffffff" stroke="transparent" points="628,-36 555,-36 555,0 628,0 628,-36"/>
<text text-anchor="middle" x="591.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#8b0000">Output ✘</text>
</g>
<!-- s3&#45;&gt;output -->
<g id="edge4" class="edge">
<title>s3&#45;&gt;output</title>
<path fill="none" stroke="#000000" d="M518.1579,-18C526.5754,-18 535.6584,-18 544.4691,-18"/>
<polygon fill="#000000" stroke="#000000" points="544.631,-21.5001 554.631,-18 544.631,-14.5001 544.631,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now, in the diagram above, Step 2 gets a <em>correct</em> state as input and produces a <em>faulty</em> state as output. The produced fault then propagates across more steps to finally become visible as a <em>failure</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The goal of debugging thus is to <em>search</em> for the step in which the state first becomes faulty. The <em>code</em> associated with this step is again an error – an unwanted and unintended deviation from what is correct, right, or true – and is called a <em>defect</em>. This is what we have to find – and to fix.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Sounds easy, right? Unfortunately, things are not that easy, and that has something to do with the program state. Let us assume our state consists of three variables, <code>var1</code> to <code>var3</code>, and that Step 2 produces a fault in <code>var2</code>. This fault then propagates to the output:</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="69pt" height="44pt"
 viewBox="0.00 0.00 69.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 65,-40 65,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-36 0,-36 0,0 61,0 61,-36"/>
<text text-anchor="middle" x="30.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="199pt" height="78pt"
 viewBox="0.00 0.00 199.00 78.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 74)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-74 195,-74 195,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-53 0,-53 0,-17 61,-17 61,-53"/>
<text text-anchor="middle" x="30.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="137,-.5 137,-69.5 191,-69.5 191,-.5 137,-.5"/>
<text text-anchor="middle" x="164" y="-54.3" font-family="Raleway" font-size="14.00" fill="#006400">var1</text>
<polyline fill="none" stroke="#006400" points="137,-46.5 191,-46.5 "/>
<text text-anchor="middle" x="164" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">var2</text>
<polyline fill="none" stroke="#006400" points="137,-23.5 191,-23.5 "/>
<text text-anchor="middle" x="164" y="-8.3" font-family="Raleway" font-size="14.00" fill="#006400">var3</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1276,-35C80.6204,-35 105.9945,-35 126.6646,-35"/>
<polygon fill="#000000" stroke="#000000" points="126.6874,-38.5001 136.6874,-35 126.6873,-31.5001 126.6874,-38.5001"/>
<text text-anchor="middle" x="99" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="342pt" height="78pt"
 viewBox="0.00 0.00 342.00 78.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 74)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-74 338,-74 338,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-53 0,-53 0,-17 61,-17 61,-53"/>
<text text-anchor="middle" x="30.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="137,-.5 137,-69.5 191,-69.5 191,-.5 137,-.5"/>
<text text-anchor="middle" x="164" y="-54.3" font-family="Raleway" font-size="14.00" fill="#006400">var1</text>
<polyline fill="none" stroke="#006400" points="137,-46.5 191,-46.5 "/>
<text text-anchor="middle" x="164" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">var2</text>
<polyline fill="none" stroke="#006400" points="137,-23.5 191,-23.5 "/>
<text text-anchor="middle" x="164" y="-8.3" font-family="Raleway" font-size="14.00" fill="#006400">var3</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1276,-35C80.6204,-35 105.9945,-35 126.6646,-35"/>
<polygon fill="#000000" stroke="#000000" points="126.6874,-38.5001 136.6874,-35 126.6873,-31.5001 126.6874,-38.5001"/>
<text text-anchor="middle" x="99" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="279,-.5 279,-69.5 334,-69.5 334,-.5 279,-.5"/>
<text text-anchor="middle" x="306.5" y="-54.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var1</text>
<polyline fill="none" stroke="#8b0000" points="279,-46.5 334,-46.5 "/>
<text text-anchor="middle" x="306.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var2 ✘</text>
<polyline fill="none" stroke="#8b0000" points="279,-23.5 334,-23.5 "/>
<text text-anchor="middle" x="306.5" y="-8.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var3</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2:var2</title>
<path fill="none" stroke="#000000" d="M191.4182,-35C212.0779,-35 241.4147,-35 268.6759,-35"/>
<polygon fill="#000000" stroke="#000000" points="269,-38.5001 279,-35 269,-31.5001 269,-38.5001"/>
<text text-anchor="middle" x="235" y="-38.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="475pt" height="78pt"
 viewBox="0.00 0.00 475.00 78.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 74)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-74 471,-74 471,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-53 0,-53 0,-17 61,-17 61,-53"/>
<text text-anchor="middle" x="30.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="137,-.5 137,-69.5 191,-69.5 191,-.5 137,-.5"/>
<text text-anchor="middle" x="164" y="-54.3" font-family="Raleway" font-size="14.00" fill="#006400">var1</text>
<polyline fill="none" stroke="#006400" points="137,-46.5 191,-46.5 "/>
<text text-anchor="middle" x="164" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">var2</text>
<polyline fill="none" stroke="#006400" points="137,-23.5 191,-23.5 "/>
<text text-anchor="middle" x="164" y="-8.3" font-family="Raleway" font-size="14.00" fill="#006400">var3</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1276,-35C80.6204,-35 105.9945,-35 126.6646,-35"/>
<polygon fill="#000000" stroke="#000000" points="126.6874,-38.5001 136.6874,-35 126.6873,-31.5001 126.6874,-38.5001"/>
<text text-anchor="middle" x="99" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="279,-.5 279,-69.5 334,-69.5 334,-.5 279,-.5"/>
<text text-anchor="middle" x="306.5" y="-54.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var1</text>
<polyline fill="none" stroke="#8b0000" points="279,-46.5 334,-46.5 "/>
<text text-anchor="middle" x="306.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var2 ✘</text>
<polyline fill="none" stroke="#8b0000" points="279,-23.5 334,-23.5 "/>
<text text-anchor="middle" x="306.5" y="-8.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var3</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2:var2</title>
<path fill="none" stroke="#000000" d="M191.4182,-35C212.0779,-35 241.4147,-35 268.6759,-35"/>
<polygon fill="#000000" stroke="#000000" points="269,-38.5001 279,-35 269,-31.5001 269,-38.5001"/>
<text text-anchor="middle" x="235" y="-38.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="412,-.5 412,-69.5 467,-69.5 467,-.5 412,-.5"/>
<text text-anchor="middle" x="439.5" y="-54.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var1</text>
<polyline fill="none" stroke="#8b0000" points="412,-46.5 467,-46.5 "/>
<text text-anchor="middle" x="439.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var2 ✘</text>
<polyline fill="none" stroke="#8b0000" points="412,-23.5 467,-23.5 "/>
<text text-anchor="middle" x="439.5" y="-8.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var3</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2:var2&#45;&gt;s3:var2</title>
<path fill="none" stroke="#000000" d="M334,-35C365.0104,-35 375.216,-35 401.8379,-35"/>
<polygon fill="#000000" stroke="#000000" points="402,-38.5001 412,-35 402,-31.5001 402,-38.5001"/>
<text text-anchor="middle" x="373" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 3</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="585pt" height="78pt"
 viewBox="0.00 0.00 585.00 78.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 74)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-74 581,-74 581,4 -4,4"/>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<polygon fill="#ffffff" stroke="transparent" points="61,-53 0,-53 0,-17 61,-17 61,-53"/>
<text text-anchor="middle" x="30.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">Input ✔</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<polygon fill="#ffdab9" stroke="#006400" points="137,-.5 137,-69.5 191,-69.5 191,-.5 137,-.5"/>
<text text-anchor="middle" x="164" y="-54.3" font-family="Raleway" font-size="14.00" fill="#006400">var1</text>
<polyline fill="none" stroke="#006400" points="137,-46.5 191,-46.5 "/>
<text text-anchor="middle" x="164" y="-31.3" font-family="Raleway" font-size="14.00" fill="#006400">var2</text>
<polyline fill="none" stroke="#006400" points="137,-23.5 191,-23.5 "/>
<text text-anchor="middle" x="164" y="-8.3" font-family="Raleway" font-size="14.00" fill="#006400">var3</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="#000000" d="M61.1276,-35C80.6204,-35 105.9945,-35 126.6646,-35"/>
<polygon fill="#000000" stroke="#000000" points="126.6874,-38.5001 136.6874,-35 126.6873,-31.5001 126.6874,-38.5001"/>
<text text-anchor="middle" x="99" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 1</text>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="279,-.5 279,-69.5 334,-69.5 334,-.5 279,-.5"/>
<text text-anchor="middle" x="306.5" y="-54.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var1</text>
<polyline fill="none" stroke="#8b0000" points="279,-46.5 334,-46.5 "/>
<text text-anchor="middle" x="306.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var2 ✘</text>
<polyline fill="none" stroke="#8b0000" points="279,-23.5 334,-23.5 "/>
<text text-anchor="middle" x="306.5" y="-8.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var3</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2:var2</title>
<path fill="none" stroke="#000000" d="M191.4182,-35C212.0779,-35 241.4147,-35 268.6759,-35"/>
<polygon fill="#000000" stroke="#000000" points="269,-38.5001 279,-35 269,-31.5001 269,-38.5001"/>
<text text-anchor="middle" x="235" y="-38.8" font-family="Raleway" font-size="14.00" fill="#8b0000">Step 2 ✘</text>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<polygon fill="#ffdab9" stroke="#8b0000" points="412,-.5 412,-69.5 467,-69.5 467,-.5 412,-.5"/>
<text text-anchor="middle" x="439.5" y="-54.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var1</text>
<polyline fill="none" stroke="#8b0000" points="412,-46.5 467,-46.5 "/>
<text text-anchor="middle" x="439.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var2 ✘</text>
<polyline fill="none" stroke="#8b0000" points="412,-23.5 467,-23.5 "/>
<text text-anchor="middle" x="439.5" y="-8.3" font-family="Raleway" font-size="14.00" fill="#8b0000">var3</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2:var2&#45;&gt;s3:var2</title>
<path fill="none" stroke="#000000" d="M334,-35C365.0104,-35 375.216,-35 401.8379,-35"/>
<polygon fill="#000000" stroke="#000000" points="402,-38.5001 412,-35 402,-31.5001 402,-38.5001"/>
<text text-anchor="middle" x="373" y="-38.8" font-family="Raleway" font-size="14.00" fill="#000000">Step 3</text>
</g>
<!-- output -->
<g id="node5" class="node">
<title>output</title>
<polygon fill="#ffffff" stroke="transparent" points="577,-53 504,-53 504,-17 577,-17 577,-53"/>
<text text-anchor="middle" x="540.5" y="-31.3" font-family="Raleway" font-size="14.00" fill="#8b0000">Output ✘</text>
</g>
<!-- s3&#45;&gt;output -->
<g id="edge4" class="edge">
<title>s3:var2&#45;&gt;output</title>
<path fill="none" stroke="#000000" d="M467,-35C475.6213,-35 484.8113,-35 493.6695,-35"/>
<polygon fill="#000000" stroke="#000000" points="493.8618,-38.5001 503.8618,-35 493.8618,-31.5001 493.8618,-38.5001"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The way these faults propagate is called a <em>cause-effect chain</em>:</p>
<ul>
<li>The <em>defect</em> in the code <em>causes</em> a fault in the state when executed.</li>
<li>This <em>fault</em> in the state then <em>propagates</em> through further execution steps...</li>
<li>... until it becomes visible as a <em>failure</em>.</li>
</ul>
<p>Even worse: in most cases the fault often expresses itself first in the control flow rather than the variable contents.
Such a deviation from a normal execution is in general even harder to find.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Since the code was originally written by a human, any defect can be related to some original <em>mistake</em> the programmer made. This gives us a number of terms that all are more precise than the general "error" or the colloquial "bug":</p>
<ul>
<li>A <em>mistake</em> is a human act or decision resulting in an error.</li>
<li>A <em>defect</em> is an error in the program code. Also called <em>bug</em>.</li>
<li>A <em>fault</em> is an error in the program state. Also called <em>infection</em>.</li>
<li>A <em>failure</em> is an externally visible error in the program behavior. Also called <em>malfunction</em>.</li>
</ul>
<p>The cause-effect chain of events is thus</p>
<ul>
<li>Mistake → Defect → Fault → ... → Fault → Failure</li>
</ul>
<p>Note that not every defect also causes a failure, which is despite all testing, there can still be defects in the code looming around until the right conditions are met to trigger them. On the other hand, though, <em>every failure can be traced back to the defect that causes it</em>. Our job is to break the cause-effect chain.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="From-Failure-to-Defect">From Failure to Defect<a class="anchor-link" href="#From-Failure-to-Defect">&#182;</a></h2><p>To find a defect from a failure, we <em>trace back</em> the faults along their <em>propagation</em> – that is, we find out which faults in the earlier state have caused the later faults. We start from the very end of the execution and then gradually progress backwards in time, examining fault after fault until we find a <em>transition</em> from a correct state to a faulty state – that is, a
step in which a correct state comes in and a faulty state comes out. At this point, we have found the origin of the failure – and the defect that causes it.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What sounds like a straight-forward strategy, unfortunately, doesn't always work this way in practice. That is because of the following problems of debugging:</p>
<ul>
<li><p>First, program states are actually <em>large</em>, encompassing dozens to thousands of variables, possibly even more. If you have to search all of these manually and check them for faults, you will spend a lot of time for a single state.</p>
</li>
<li><p>Second, you do not always know <em>whether a state is correct or not.</em> While most programs have some form of specification for their inputs and outputs, these do not necessarily exist for intermediate results. If one had a specification that could check each state for correctness (possibly even automatically), debugging would be trivial. Unfortunately, it is not, and that's partly due to the lack of specifications.</p>
</li>
<li><p>Third, executions typically do not come in a handful of steps, as in the diagrams above; instead, they can easily encompass <em>thousands to millions of steps.</em> This means that you will have to examine not just one state, but several, making the problem much worse.</p>
</li>
</ul>
<p>To make your search efficient, you thus have to <em>focus</em> your search – starting with most likely causes and gradually progressing to the less probable causes. This is what we call a <em>debugging strategy</em>. Intermediate assertions of the program state also come in handy, as they make the cause-effect chain smaller.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="The-Scientific-Method">The Scientific Method<a class="anchor-link" href="#The-Scientific-Method">&#182;</a></h2><p>Now that we know how failures come to be, let's look into how to systematically find their causes. What we need is a <em>strategy</em> that helps us search for how and when the failure comes to be. For this, we use a process called the <em>scientific method</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When we are debugging a program, we are trying to find the causes of a given effect – very much like natural scientists try to understand why things in nature are as they are and how they come to be. Over thousands of years, scientists have conducted <em>observations</em> and <em>experiments</em> to come to an understanding of how our world works. The process by which experimental scientists operate has been coined "The scientific method". This is how it works:</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><ol>
<li>Formulate a <em>question</em>, as in "Why does this apple fall down?".</li>
<li>Invent a <em>hypothesis</em> based on knowledge obtained while formulating the question, that may explain the observed behavior. </li>
<li>Determining the logical consequences of the hypothesis, formulate a <em>prediction</em> that can <em>support</em> or <em>refute</em> the hypothesis. Ideally, the prediction would distinguish the hypothesis from likely alternatives.</li>
<li><em>Test</em> the prediction (and thus the hypothesis) in an <em>experiment</em>. If the prediction holds, confidence in the hypothesis increases; otherwise, it decreases.</li>
<li>Repeat Steps 2–4 until there are no discrepancies between hypothesis and predictions and/or observations.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At this point, your hypothesis may be named a <em>theory</em> – that is, a predictive and comprehensive description of some aspect of the natural world. The gravitational theory, for instance, predicts very well how the moon revolves around the earth, and how the earth revolves around the sun.  Our debugging problems are of a slightly lesser scale – we'd like a theory of how our failure came to be – but the process is pretty much the same.</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="843pt" height="206pt"
 viewBox="0.00 0.00 843.06 206.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 202)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-202 839.0588,-202 839.0588,4 -4,4"/>
<!-- Hypothesis -->
<g id="node1" class="node">
<title>Hypothesis</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="213.8449" cy="-99" rx="57.6901" ry="18"/>
<text text-anchor="middle" x="213.8449" y="-95.3" font-family="Raleway" font-size="14.00" fill="#000000">Hypothesis</text>
</g>
<!-- Observation -->
<g id="node2" class="node">
<title>Observation</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="773.3143" cy="-99" rx="61.99" ry="18"/>
<text text-anchor="middle" x="773.3143" y="-95.3" font-family="Raleway" font-size="14.00" fill="#000000">Observation</text>
</g>
<!-- Hypothesis&#45;&gt;Observation -->
<g id="edge1" class="edge">
<title>Hypothesis&#45;&gt;Observation</title>
<path fill="none" stroke="#000000" d="M262.4234,-115.6219C277.1087,-119.8842 293.3975,-123.8657 308.6897,-126 469.7421,-148.4773 513.4024,-147.6371 674.5698,-126 694.1218,-123.3751 715.2829,-117.9504 732.9818,-112.6473"/>
<polygon fill="#000000" stroke="#000000" points="263.1294,-112.1793 252.5448,-112.6455 261.1099,-118.8817 263.1294,-112.1793"/>
<text text-anchor="start" x="449.2803" y="-173.8" font-family="Raleway" font-size="14.00" fill="#000000">Hypothesis</text>
<text text-anchor="start" x="445.2803" y="-159.8" font-family="Raleway" font-size="14.00" fill="#000000">is </text>
<text text-anchor="start" x="459.2803" y="-159.8" font-family="Raleway" font-style="italic" font-size="14.00" fill="#000000">supported:</text>
<text text-anchor="start" x="459.2803" y="-145.8" font-family="Raleway" font-size="14.00" fill="#000000">Refine it</text>
</g>
<!-- Prediction -->
<g id="node3" class="node">
<title>Prediction</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="361.985" cy="-99" rx="53.0913" ry="18"/>
<text text-anchor="middle" x="361.985" y="-95.3" font-family="Raleway" font-size="14.00" fill="#000000">Prediction</text>
</g>
<!-- Hypothesis&#45;&gt;Prediction -->
<g id="edge2" class="edge">
<title>Hypothesis&#45;&gt;Prediction</title>
<path fill="none" stroke="#000000" d="M271.9686,-99C280.5913,-99 289.5166,-99 298.2466,-99"/>
<polygon fill="#000000" stroke="#000000" points="298.3754,-102.5001 308.3754,-99 298.3754,-95.5001 298.3754,-102.5001"/>
</g>
<!-- Observation&#45;&gt;Hypothesis -->
<g id="edge9" class="edge">
<title>Observation&#45;&gt;Hypothesis</title>
<path fill="none" stroke="#000000" d="M730.3447,-85.9602C713.124,-81.0737 693.0228,-75.7928 674.5698,-72 515.2861,-39.2615 467.5821,-37.4123 308.6897,-72 294.1463,-75.1658 278.5425,-79.2953 264.2758,-83.3687"/>
<polygon fill="#000000" stroke="#000000" points="263.2686,-80.0166 254.6419,-86.1674 265.2214,-86.7387 263.2686,-80.0166"/>
<text text-anchor="start" x="449.2803" y="-80.8" font-family="Raleway" font-size="14.00" fill="#000000">Hypothesis</text>
<text text-anchor="start" x="451.7803" y="-66.8" font-family="Raleway" font-size="14.00" fill="#000000">is </text>
<text text-anchor="start" x="465.7803" y="-66.8" font-family="Raleway" font-style="italic" font-size="14.00" fill="#000000">rejected:</text>
<text text-anchor="start" x="433.2803" y="-52.8" font-family="Raleway" font-size="14.00" fill="#000000">Seek alternative</text>
</g>
<!-- Experiment -->
<g id="node4" class="node">
<title>Experiment</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="615.425" cy="-99" rx="59.2899" ry="18"/>
<text text-anchor="middle" x="615.425" y="-95.3" font-family="Raleway" font-size="14.00" fill="#000000">Experiment</text>
</g>
<!-- Prediction&#45;&gt;Experiment -->
<g id="edge7" class="edge">
<title>Prediction&#45;&gt;Experiment</title>
<path fill="none" stroke="#000000" d="M415.4234,-99C453.3119,-99 504.5171,-99 545.6305,-99"/>
<polygon fill="#000000" stroke="#000000" points="545.8514,-102.5001 555.8514,-99 545.8513,-95.5001 545.8514,-102.5001"/>
</g>
<!-- Experiment&#45;&gt;Observation -->
<g id="edge8" class="edge">
<title>Experiment&#45;&gt;Observation</title>
<path fill="none" stroke="#000000" d="M674.6664,-99C683.3764,-99 692.4282,-99 701.3598,-99"/>
<polygon fill="#000000" stroke="#000000" points="701.3681,-102.5001 711.3681,-99 701.3681,-95.5001 701.3681,-102.5001"/>
</g>
<!-- Problem Report -->
<g id="node5" class="node">
<title>Problem Report</title>
<polygon fill="#ffffff" stroke="transparent" points="119,-198 0,-198 0,-162 119,-162 119,-198"/>
<text text-anchor="middle" x="59.5" y="-176.3" font-family="Raleway" font-size="14.00" fill="#000000">Problem Report</text>
</g>
<!-- Problem Report&#45;&gt;Hypothesis -->
<g id="edge3" class="edge">
<title>Problem Report&#45;&gt;Hypothesis</title>
<path fill="none" stroke="#000000" d="M100.7039,-161.896C106.8802,-159.0113 113.1394,-155.9902 119,-153 138.978,-142.8069 160.7582,-130.4953 178.4029,-120.2034"/>
<polygon fill="#000000" stroke="#000000" points="180.3689,-123.1078 187.2215,-115.0274 176.8256,-117.0708 180.3689,-123.1078"/>
</g>
<!-- Code -->
<g id="node6" class="node">
<title>Code</title>
<polygon fill="#ffffff" stroke="transparent" points="86.5,-144 32.5,-144 32.5,-108 86.5,-108 86.5,-144"/>
<text text-anchor="middle" x="59.5" y="-122.3" font-family="Raleway" font-size="14.00" fill="#000000">Code</text>
</g>
<!-- Code&#45;&gt;Hypothesis -->
<g id="edge4" class="edge">
<title>Code&#45;&gt;Hypothesis</title>
<path fill="none" stroke="#000000" d="M86.7385,-121.2351C105.1326,-118.0173 130.1595,-113.6393 153.1423,-109.6189"/>
<polygon fill="#000000" stroke="#000000" points="153.9357,-113.0333 163.183,-107.8624 152.7295,-106.138 153.9357,-113.0333"/>
</g>
<!-- Runs -->
<g id="node7" class="node">
<title>Runs</title>
<polygon fill="#ffffff" stroke="transparent" points="86.5,-90 32.5,-90 32.5,-54 86.5,-54 86.5,-90"/>
<text text-anchor="middle" x="59.5" y="-68.3" font-family="Raleway" font-size="14.00" fill="#000000">Runs</text>
</g>
<!-- Runs&#45;&gt;Hypothesis -->
<g id="edge5" class="edge">
<title>Runs&#45;&gt;Hypothesis</title>
<path fill="none" stroke="#000000" d="M86.7385,-76.7649C105.1326,-79.9827 130.1595,-84.3607 153.1423,-88.3811"/>
<polygon fill="#000000" stroke="#000000" points="152.7295,-91.862 163.183,-90.1376 153.9357,-84.9667 152.7295,-91.862"/>
</g>
<!-- More Runs -->
<g id="node8" class="node">
<title>More Runs</title>
<polygon fill="#ffffff" stroke="transparent" points="102.5,-36 16.5,-36 16.5,0 102.5,0 102.5,-36"/>
<text text-anchor="middle" x="59.5" y="-14.3" font-family="Raleway" font-size="14.00" fill="#000000">More Runs</text>
</g>
<!-- More Runs&#45;&gt;Hypothesis -->
<g id="edge6" class="edge">
<title>More Runs&#45;&gt;Hypothesis</title>
<path fill="none" stroke="#000000" d="M100.7039,-36.104C106.8802,-38.9887 113.1394,-42.0098 119,-45 138.978,-55.1931 160.7582,-67.5047 178.4029,-77.7966"/>
<polygon fill="#000000" stroke="#000000" points="176.8256,-80.9292 187.2215,-82.9726 180.3689,-74.8922 176.8256,-80.9292"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In debugging, we proceed the very same way – indeed, we are treating bugs as if they were natural phenomena.   This analogy may sound far-fetched, as programs are anything but natural.  Nature, by definition, is not under our control.  But bugs are <em>out of our control just as well.</em>  Hence, the analogy is not that far-fetched – and we can apply the same techniques for debugging.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Finding-a-Hypothesis">Finding a Hypothesis<a class="anchor-link" href="#Finding-a-Hypothesis">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us apply the scientific method to our Python program which removes HTML tags.  First of all, let us recall the problem – <code>remove_html_markup()</code> works for some inputs, but fails on others.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">html</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s1">&#39;&lt;b&gt;foo&lt;/b&gt;&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;&quot;&lt;b&gt;foo&lt;/b&gt;&quot;&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;&lt;b id=&quot;bar&quot;&gt;foo&lt;/b&gt;&#39;</span><span class="p">]):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-2d</span><span class="s2"> </span><span class="si">%-15s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1  &lt;b&gt;foo&lt;/b&gt;      foo
2  &lt;b&gt;&#34;foo&#34;&lt;/b&gt;    foo
3  &#34;&lt;b&gt;foo&lt;/b&gt;&#34;    &lt;b&gt;foo&lt;/b&gt;
4  &lt;b id=&#34;bar&#34;&gt;foo&lt;/b&gt; foo
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Input #1 and #4 work as expected, the others do not. We can write these down in a table, such that we can always look back at our previous results:</p>
<table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
<tr>
<td><code>&lt;b&gt;"foo"&lt;/b&gt;</code></td>
<td><code>"foo"</code></td>
<td><code>foo</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>"&lt;b&gt;foo&lt;/b&gt;"</code></td>
<td><code>"foo"</code></td>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>&lt;b id="bar"&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">From the difference between success and failure, we can already devise some observations about  what is wrong with the output. Which of these can we turn into general hypotheses?</div>
    </p>
    <p>
    <div class="quiz_options" title="Check all that apply.">

        <input type="checkbox" name="6de3c25c-8338-11eb-a588-acde48001122" id="6de3c25c-8338-11eb-a588-acde48001122-1" onclick="clear_selection('6de3c25c-8338-11eb-a588-acde48001122')">
        <label id="6de3c25c-8338-11eb-a588-acde48001122-1-label" for="6de3c25c-8338-11eb-a588-acde48001122-1">Double quotes (<code>"</code>) are stripped from the tagged input.</label><br>

        <input type="checkbox" name="6de3c25c-8338-11eb-a588-acde48001122" id="6de3c25c-8338-11eb-a588-acde48001122-2" onclick="clear_selection('6de3c25c-8338-11eb-a588-acde48001122')">
        <label id="6de3c25c-8338-11eb-a588-acde48001122-2-label" for="6de3c25c-8338-11eb-a588-acde48001122-2">Tags in double quotes are not stripped.</label><br>

        <input type="checkbox" name="6de3c25c-8338-11eb-a588-acde48001122" id="6de3c25c-8338-11eb-a588-acde48001122-3" onclick="clear_selection('6de3c25c-8338-11eb-a588-acde48001122')">
        <label id="6de3c25c-8338-11eb-a588-acde48001122-3-label" for="6de3c25c-8338-11eb-a588-acde48001122-3">The tag <code>&lt;&gt;</code> is always stripped from the input.</label><br>

        <input type="checkbox" name="6de3c25c-8338-11eb-a588-acde48001122" id="6de3c25c-8338-11eb-a588-acde48001122-4" onclick="clear_selection('6de3c25c-8338-11eb-a588-acde48001122')">
        <label id="6de3c25c-8338-11eb-a588-acde48001122-4-label" for="6de3c25c-8338-11eb-a588-acde48001122-4">Four-letter words are stripped.</label><br>

    </div>
    </p>
    <input id="6de3c25c-8338-11eb-a588-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6de3c25c-8338-11eb-a588-acde48001122', 6, 1, '[298 % 33, 1234 % 616]')">
    <span class="quiz_hint" id="6de3c25c-8338-11eb-a588-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Testing-a-Hypothesis">Testing a Hypothesis<a class="anchor-link" href="#Testing-a-Hypothesis">&#182;</a></h3><p>The hypotheses that remain are:</p>
<ol>
<li>Double quotes are stripped from the tagged input.</li>
<li>Tags in double quotes are not stripped.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>These may be two separate issues, but chances are they are tied to each other.  Let's focus on 1., because it is simpler.  Does it hold for all inputs, even untagged ones?  Our hypothesis becomes</p>
<ol>
<li>Double quotes are stripped from the <del>tagged</del> input.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's devise an experiment to validate this.  If we feed the string</p>
<div class="highlight"><pre><span></span>&quot;foo&quot;
</pre></div>
<p>(including the double quotes) into <code>remove_html_markup()</code>, we should obtain</p>
<div class="highlight"><pre><span></span>&quot;foo&quot;
</pre></div>
<p>as result – that is, the output should be the unchanged input. However, if our hypothesis 1. is correct, we should obtain</p>
<div class="highlight"><pre><span></span>foo
</pre></div>
<p>as result – that is, "Double quotes are stripped from the input" as predicted by the hypothesis.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can very easily test this hypothesis:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&quot;foo&quot;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;foo&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our hypothesis is confirmed! We can add this to our list of observations.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
<tr>
<td><code>&lt;b&gt;"foo"&lt;/b&gt;</code></td>
<td><code>"foo"</code></td>
<td><code>foo</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>"&lt;b&gt;foo&lt;/b&gt;"</code></td>
<td><code>"foo"</code></td>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>&lt;b id="bar"&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
<tr>
<td><code>"foo"</code></td>
<td><code>"foo"</code></td>
<td><code>foo</code></td>
<td>✘</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>You can try out the hypothesis with more inputs – and it remains valid. Any non-markup input that contains double quotes will have these stripped.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Where does that quote-stripping come from?  This is where we need to explore the cause-effect chain.  The only place in <code>remove_html_markup()</code> where quotes are handled is this line:</p>
<div class="highlight"><pre><span></span><span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
</pre></div>
<p>So, quotes should be removed only if <code>tag</code> is set. However, <code>tag</code> can be set only if the input contains a markup tag, which is not the case for a simple input like <code>"foo"</code>. Hence, what we observe is actually <em>impossible.</em> Yet, it happens.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Refining-a-Hypothesis">Refining a Hypothesis<a class="anchor-link" href="#Refining-a-Hypothesis">&#182;</a></h3><p>Debugging is a game of falsifying assumptions. You assume the code works – it doesn't. You assume the <code>tag</code> flag cannot be set – yet it may be. What do we do? Again, we create a hypothesis:</p>
<ol>
<li>The error is due to <code>tag</code> being set.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How do we know whether tag is being set?  Let me introduce one of the most powerful debugging tools ever invented, the <code>assert</code> statement.  The statement</p>
<div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">cond</span>
</pre></div>
<p>evaluates the given condition <code>cond</code> and</p>
<ul>
<li>if it holds: proceed as usual</li>
<li>if <code>cond</code> does not hold: throw an exception</li>
</ul>
<p>An <code>assert</code> statement <em>encodes our assumptions</em> and as such, should never fail. If it does, well, then something is wrong.
Furthermore, <code>assert</code> statements break the cause-effect chain into smaller pieces. The observable failure occurs earlier in
the program execution and thus closer to the initial fault.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using <code>assert</code>, we can check the value of <code>tag</code> all through the loop:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup_with_tag_assert</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">tag</span>  <span class="c1"># &lt;=== Just added</span>

        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our expectation is that this assertion would fail. So, do we actually get an exception? Try it out for yourself by uncommenting the following line:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># remove_html_markup_with_tag_assert(&#39;&quot;foo&quot;&#39;)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">What happens after inserting the above assertion?</div>
    </p>
    <p>
    <div class="quiz_options" title="Pick a choice.">

        <input type="radio" name="6dea16ac-8338-11eb-8163-acde48001122" id="6dea16ac-8338-11eb-8163-acde48001122-1" onclick="clear_selection('6dea16ac-8338-11eb-8163-acde48001122')">
        <label id="6dea16ac-8338-11eb-8163-acde48001122-1-label" for="6dea16ac-8338-11eb-8163-acde48001122-1">The program raises an exception. (i.e., <code>tag</code> is set)</label><br>

        <input type="radio" name="6dea16ac-8338-11eb-8163-acde48001122" id="6dea16ac-8338-11eb-8163-acde48001122-2" onclick="clear_selection('6dea16ac-8338-11eb-8163-acde48001122')">
        <label id="6dea16ac-8338-11eb-8163-acde48001122-2-label" for="6dea16ac-8338-11eb-8163-acde48001122-2">The output is as before, i.e., <code>foo</code> without quotes. (which means that <code>tag</code> is not set)</label><br>

    </div>
    </p>
    <input id="6dea16ac-8338-11eb-8163-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6dea16ac-8338-11eb-8163-acde48001122', 4, 0, '')">
    <span class="quiz_hint" id="6dea16ac-8338-11eb-8163-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's the solution:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">remove_html_markup_with_tag_assert</span><span class="p">(</span><span class="s1">&#39;&quot;foo&quot;&#39;</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;foo&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Refuting-a-Hypothesis">Refuting a Hypothesis<a class="anchor-link" href="#Refuting-a-Hypothesis">&#182;</a></h3><p>We did not get an exception, hence we reject our hypothesis:</p>
<ol>
<li><del>The error is due to <code>tag</code> being set.</del></li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, let's go back to the only place in our code where quotes are handled:</p>
<div class="highlight"><pre><span></span><span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
</pre></div>
<p>Because of the assertion, we already know that <code>tag</code> is always False.  Hence, this condition should never hold either.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>But maybe there's something wrong with the condition such that it holds? Here's our hypothesis:</p>
<ol>
<li>The error is due to the quote condition evaluating to true</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If the condition evaluates to true, then <code>quote</code> should be set.  We could now go and assert that <code>quote</code> is false; but we only care about the condition.  So we insert an assertion that assumes that setting the code setting the <code>quote</code> flag is never reached:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup_with_quote_assert</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="k">assert</span> <span class="kc">False</span>  <span class="c1"># &lt;=== Just added</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our expectation this time again is that the assertion fails. So, do we get an exception this time? Try it out for yourself by uncommenting the following line:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># remove_html_markup_with_quote_assert(&#39;&quot;foo&quot;&#39;)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">What happens after inserting the 'assert' tag?</div>
    </p>
    <p>
    <div class="quiz_options" title="Pick a choice.">

        <input type="radio" name="6deda812-8338-11eb-9732-acde48001122" id="6deda812-8338-11eb-9732-acde48001122-1" onclick="clear_selection('6deda812-8338-11eb-9732-acde48001122')">
        <label id="6deda812-8338-11eb-9732-acde48001122-1-label" for="6deda812-8338-11eb-9732-acde48001122-1">The program raises an exception (i.e., the quote condition holds)</label><br>

        <input type="radio" name="6deda812-8338-11eb-9732-acde48001122" id="6deda812-8338-11eb-9732-acde48001122-2" onclick="clear_selection('6deda812-8338-11eb-9732-acde48001122')">
        <label id="6deda812-8338-11eb-9732-acde48001122-2-label" for="6deda812-8338-11eb-9732-acde48001122-2">The output is still foo (i.e., the quote condition does not hold)</label><br>

    </div>
    </p>
    <input id="6deda812-8338-11eb-9732-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6deda812-8338-11eb-9732-acde48001122', 2, 0, '')">
    <span class="quiz_hint" id="6deda812-8338-11eb-9732-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's what happens now that we have the <code>assert</code> tag:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">remove_html_markup_with_quote_assert</span><span class="p">(</span><span class="s1">&#39;&quot;foo&quot;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-1-9ce255289291&gt;&#34;, line 2, in &lt;module&gt;
    result = remove_html_markup_with_quote_assert(&#39;&#34;foo&#34;&#39;)
  File &#34;&lt;ipython-input-1-73f0a51dbbd9&gt;&#34;, line 12, in remove_html_markup_with_quote_assert
    assert False  # &lt;=== Just added
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>From this observation, we can deduce that our hypothesis is <em>confirmed</em>:</p>
<ol>
<li>The error is due to the quote condition evaluating to true (CONFIRMED)</li>
</ol>
<p>and the <em>condition is actually faulty.</em> It evaluates to True although <code>tag</code> is always False:</p>
<div class="highlight"><pre><span></span><span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
</pre></div>
<p>But this condition holds for single and double quotes.  Is there a difference?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us see whether our observations generalize towards general quotes:</p>
<ol>
<li><del>Double</del> quotes are stripped from the input.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can verify these hypotheses with an additional experiment.  We go back to our original implementation (without any asserts), and then check it:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html_markup</span><span class="p">(</span><span class="s2">&quot;&#39;foo&#39;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#34;&#39;foo&#39;&#34;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Surprise: Our hypothesis is rejected and we can add another observation to our table:</p>
<table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>'foo'</code></td>
<td><code>'foo'</code></td>
<td><code>'foo'</code></td>
<td>✔</td>
</tr>
</tbody>
</table>
<p>So, the condition</p>
<ul>
<li>becomes True when a double quote is seen</li>
<li>becomes False (as it should) with single quotes</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At this point, you should have enough material to solve the problem.  How do we have to fix the condition? Here are four alternatives:</p>
<div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">tag</span>        <span class="c1"># Choice 1</span>
<span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">tag</span>  <span class="c1"># Choice 2</span>
<span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span>    <span class="c1"># Choice 3</span>
<span class="o">...</span>                               <span class="c1"># Something else</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">How should the condition read?</div>
    </p>
    <p>
    <div class="quiz_options" title="Pick a choice.">

        <input type="radio" name="6df0620a-8338-11eb-b36c-acde48001122" id="6df0620a-8338-11eb-b36c-acde48001122-1" onclick="clear_selection('6df0620a-8338-11eb-b36c-acde48001122')">
        <label id="6df0620a-8338-11eb-b36c-acde48001122-1-label" for="6df0620a-8338-11eb-b36c-acde48001122-1"><code>c == "" or c == '' and tag</code> (Choice 1)</label><br>

        <input type="radio" name="6df0620a-8338-11eb-b36c-acde48001122" id="6df0620a-8338-11eb-b36c-acde48001122-2" onclick="clear_selection('6df0620a-8338-11eb-b36c-acde48001122')">
        <label id="6df0620a-8338-11eb-b36c-acde48001122-2-label" for="6df0620a-8338-11eb-b36c-acde48001122-2"><code>c == '"' or c == "'" and not tag</code> (Choice 2)</label><br>

        <input type="radio" name="6df0620a-8338-11eb-b36c-acde48001122" id="6df0620a-8338-11eb-b36c-acde48001122-3" onclick="clear_selection('6df0620a-8338-11eb-b36c-acde48001122')">
        <label id="6df0620a-8338-11eb-b36c-acde48001122-3-label" for="6df0620a-8338-11eb-b36c-acde48001122-3"><code>(c == '"' or c == "'") and tag</code> (Choice 3)</label><br>

        <input type="radio" name="6df0620a-8338-11eb-b36c-acde48001122" id="6df0620a-8338-11eb-b36c-acde48001122-4" onclick="clear_selection('6df0620a-8338-11eb-b36c-acde48001122')">
        <label id="6df0620a-8338-11eb-b36c-acde48001122-4-label" for="6df0620a-8338-11eb-b36c-acde48001122-4">Something else</label><br>

    </div>
    </p>
    <input id="6df0620a-8338-11eb-b36c-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6df0620a-8338-11eb-b36c-acde48001122', 8, 0, '399 % 4')">
    <span class="quiz_hint" id="6df0620a-8338-11eb-b36c-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Fixing-the-Bug">Fixing the Bug<a class="anchor-link" href="#Fixing-the-Bug">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, you have spotted the defect: In Python (and most other languages), <code>and</code> takes precedence over <code>or</code>, which is why the condition is wrong.  It should read:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span>
</pre></div>
<p>(Actually, good programmers rarely depend on precedence; it is considered good style to use parentheses lavishly.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, our hypothesis now has become</p>
<ol>
<li>The error is due to the <code>quote</code> condition evaluating to True</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Is this our final hypothesis?  We can check our earlier examples whether they should now work well:</p>
<table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
<tr>
<td><code>&lt;b&gt;"foo"&lt;/b&gt;</code></td>
<td><code>"foo"</code></td>
<td><code>foo</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>"&lt;b&gt;foo&lt;/b&gt;"</code></td>
<td><code>"foo"</code></td>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>&lt;b id="bar"&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
<tr>
<td><code>"foo"</code></td>
<td><code>'foo'</code></td>
<td><code>foo</code></td>
<td>✘</td>
</tr>
<tr>
<td><code>'foo'</code></td>
<td><code>'foo'</code></td>
<td><code>'foo'</code></td>
<td>✔</td>
</tr>
</tbody>
</table>
<p>In all of these examples, the <code>quote</code> flag should now be set outside of tags; hence, everything should work as expected.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In terms of the scientific process, we now have a <em>theory</em> – a hypothesis that</p>
<ul>
<li>is consistent with all earlier observations</li>
<li>predicts future observations (in our case: correct behavior)</li>
</ul>
<p>For debugging, our problems are usually too small for a big word like theory, so we use the word <em>diagnosis</em> instead. So is our diagnosis sufficient to fix the bug? Let us check.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Checking-Diagnoses">Checking Diagnoses<a class="anchor-link" href="#Checking-Diagnoses">&#182;</a></h3><p>In debugging, you should start to fix your code if and only if you have a diagnosis that shows two things:</p>
<ol>
<li><strong>Causality.</strong> Your diagnosis should explain why and how the failure came to be. Hence, it induces a <em>fix</em> that, when applied, should make the failure disappear.</li>
<li><strong>Incorrectness.</strong> Your diagnosis should explain why and how the code is <em>incorrect</em> (which in turn suggests how to <em>correct</em> the code). Hence, the fix it induces not only applies to the given failure, but also to all related failures.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Showing both these aspects requirements – <em>causality</em> and <em>incorrectness</em> – are crucial for a debugging diagnosis:</p>
<ul>
<li>If you find that you can change some location to make the failure go away, but are not sure why this location is wrong, then your "fix" may apply only to the symptom rather than the source. Your diagnosis explains <em>causality</em>, but not <em>incorrectness</em>.</li>
<li>If you find that there is a defect in some code location, but do not verify whether this defect is related to the failure in question, then your "fix" may not address the failure. Your diagnosis addresses <em>incorrectness</em>, but not <em>causality</em>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When you do have a diagnosis that explains both causality (how the failure came to be), and incorrectness (how to correct the code accordingly), then (and only then!) is it time to actually <em>fix</em> the code accordingly. After applying the fix, the failure should be gone, and no other failure should occur. If the failure persists, this should come as a surprise. Obviously, there is some other aspect that you haven't considered yet, so you have to go back to the drawing board and add another failing test case to the set of observations.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Fixing-the-Code">Fixing the Code<a class="anchor-link" href="#Fixing-the-Code">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>All these things considered, let us go and fix <code>remove_html_markup()</code>. We know how the defect <em>causes</em> the failure (by erroneously setting <code>quote</code> outside of tags). We know that the line in question is <em>incorrect</em> (as single and double of quotes should be treated similarly). So, our diagnosis shows both causality and incorrectness, and we can go and fix the code accordingly:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>  <span class="c1"># &lt;-- FIX</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We verify that the fix was successful by running our earlier tests. Not only should the previously failing tests now pass, the previously passing tests also should not be affected. Fortunately, all tests now pass:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s2">&quot;Here&#39;s some &lt;strong&gt;strong argument&lt;/strong&gt;.&quot;</span><span class="p">)</span> <span class="o">==</span> \
    <span class="s2">&quot;Here&#39;s some strong argument.&quot;</span>
<span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span>
    <span class="s1">&#39;&lt;input type=&quot;text&quot; value=&quot;&lt;your name&gt;&quot;&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
<span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;foo&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
<span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&quot;foo&quot;&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
<span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&quot;&lt;b&gt;foo&lt;/b&gt;&quot;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span>
<span class="k">assert</span> <span class="n">remove_html_markup</span><span class="p">(</span><span class="s1">&#39;&lt;b id=&quot;bar&quot;&gt;foo&lt;/b&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, our hypothesis <em>was</em> a theory, and our diagnosis was correct. Success!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Alternate-Paths">Alternate Paths<a class="anchor-link" href="#Alternate-Paths">&#182;</a></h3><p>A defect may have more than one hypothesis, and each diagnosis can be obtained by many ways.  We could also have started with our other hypothesis</p>
<ol>
<li>Tags in double quotes are not stripped</li>
</ol>
<p>and by reasoning and experiments, we would have reached the same conclusion that the condition is faulty:</p>
<ul>
<li>To strip tags, the <code>tag</code> flag must be set (but it is not).</li>
<li>To set the <code>tag</code> flag, the <code>quote</code> variable must not be set (but it is).</li>
<li>The <code>quote</code> flag is set under the given condition (which thus must be faulty).</li>
</ul>
<p>This gets us to the same diagnosis as above – and, of course, the same fix.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Homework-after-the-Fix">Homework after the Fix<a class="anchor-link" href="#Homework-after-the-Fix">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>After having successfully validated the fix, we still have some homework to make.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Check-for-further-Defect-Occurrences">Check for further Defect Occurrences<a class="anchor-link" href="#Check-for-further-Defect-Occurrences">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>First, we may want to check that the underlying mistake was not made elsewhere, too.</p>
<p>For an error as with <code>remove_html_markup()</code>, it may be wise to check other parts of the code (possibly written by the same programmer) whether Boolean formulas show proper precendence. Consider setting up a static program checker or style checker to catch similar mistakes.
Usually if you code in an IDE specifically designed for language you are coding in, you will get hints on so called <em>code smells</em>,
parts of your code that are typically erroneous because of bad style or other typical mistakes.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Check-your-Tests">Check your Tests<a class="anchor-link" href="#Check-your-Tests">&#182;</a></h3><p>If the defect was not found through testing, now is a good time to make sure it will be found the next time. If you use automated tests, add a test that catches the bug (as well as similar ones), such that you can prevent regressions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Add-Assertions">Add Assertions<a class="anchor-link" href="#Add-Assertions">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To be 100% sure, we could add an assertion to <code>remove_html_markup()</code> that checks the final result for correctness. Unfortunately, writing such an assertion is just as complex as writing the function itself.</p>
<p>There is one assertion, though, which could be placed in the loop body to catch this kind of errors, and which could remain in the code. Which is it?</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">Which assertion would have caught the problem?</div>
    </p>
    <p>
    <div class="quiz_options" title="Pick a choice.">

        <input type="radio" name="6df38374-8338-11eb-835f-acde48001122" id="6df38374-8338-11eb-835f-acde48001122-1" onclick="clear_selection('6df38374-8338-11eb-835f-acde48001122')">
        <label id="6df38374-8338-11eb-835f-acde48001122-1-label" for="6df38374-8338-11eb-835f-acde48001122-1"><code>assert quote and not tag</code></label><br>

        <input type="radio" name="6df38374-8338-11eb-835f-acde48001122" id="6df38374-8338-11eb-835f-acde48001122-2" onclick="clear_selection('6df38374-8338-11eb-835f-acde48001122')">
        <label id="6df38374-8338-11eb-835f-acde48001122-2-label" for="6df38374-8338-11eb-835f-acde48001122-2"><code>assert quote or not tag</code></label><br>

        <input type="radio" name="6df38374-8338-11eb-835f-acde48001122" id="6df38374-8338-11eb-835f-acde48001122-3" onclick="clear_selection('6df38374-8338-11eb-835f-acde48001122')">
        <label id="6df38374-8338-11eb-835f-acde48001122-3-label" for="6df38374-8338-11eb-835f-acde48001122-3"><code>assert tag or not quote</code></label><br>

        <input type="radio" name="6df38374-8338-11eb-835f-acde48001122" id="6df38374-8338-11eb-835f-acde48001122-4" onclick="clear_selection('6df38374-8338-11eb-835f-acde48001122')">
        <label id="6df38374-8338-11eb-835f-acde48001122-4-label" for="6df38374-8338-11eb-835f-acde48001122-4"><code>assert tag and not quote</code></label><br>

    </div>
    </p>
    <input id="6df38374-8338-11eb-835f-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6df38374-8338-11eb-835f-acde48001122', 8, 0, '3270 - 3267')">
    <span class="quiz_hint" id="6df38374-8338-11eb-835f-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Indeed, the statement</p>
<div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">tag</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">quote</span>
</pre></div>
<p>is correct. This excludes the situation of ¬<code>tag</code> ∧ <code>quote</code> – that is, the <code>tag</code> flag is not set, but the <code>quote</code> flag is. If you remember our state machine from above, this is actually a state that should never exist:</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="466pt" height="110pt"
 viewBox="0.00 0.00 465.55 109.74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105.7401)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-105.7401 461.5525,-105.7401 461.5525,4 -4,4"/>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="30.5473" cy="-26.8701" rx="30.5947" ry="18"/>
<text text-anchor="middle" x="30.5473" y="-23.1701" font-family="Raleway" font-size="14.00" fill="#000000">Start</text>
</g>
<!-- ¬ quote\n¬ tag -->
<g id="node2" class="node">
<title>¬ quote\n¬ tag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="144.7636" cy="-26.8701" rx="46.8387" ry="26.7407"/>
<text text-anchor="middle" x="144.7636" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ quote</text>
<text text-anchor="middle" x="144.7636" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ tag</text>
</g>
<!-- Start&#45;&gt;¬ quote\n¬ tag -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M61.1552,-26.8701C69.3169,-26.8701 78.4066,-26.8701 87.5014,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="87.7228,-30.3702 97.7228,-26.8701 87.7228,-23.3702 87.7228,-30.3702"/>
</g>
<!-- ¬ quote\n¬ tag&#45;&gt;¬ quote\n¬ tag -->
<g id="edge2" class="edge">
<title>¬ quote\n¬ tag&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M132.8105,-53.1406C132.2793,-63.2978 136.2636,-71.7401 144.7636,-71.7401 150.2089,-71.7401 153.801,-68.2754 155.5399,-63.1146"/>
<polygon fill="#000000" stroke="#000000" points="159.0208,-63.4818 156.7168,-53.1406 152.069,-62.6615 159.0208,-63.4818"/>
<text text-anchor="middle" x="144.7636" y="-90.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&lt;&#39;</text>
<text text-anchor="middle" x="144.7636" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">add character</text>
</g>
<!-- ¬ quote\ntag -->
<g id="node3" class="node">
<title>¬ quote\ntag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="287.1017" cy="-26.8701" rx="46.8387" ry="26.7407"/>
<text text-anchor="middle" x="287.1017" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">¬ quote</text>
<text text-anchor="middle" x="287.1017" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">tag</text>
</g>
<!-- ¬ quote\n¬ tag&#45;&gt;¬ quote\ntag -->
<g id="edge3" class="edge">
<title>¬ quote\n¬ tag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M191.7649,-26.8701C204.0329,-26.8701 217.388,-26.8701 230.1127,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="230.1498,-30.3702 240.1498,-26.8701 230.1497,-23.3702 230.1498,-30.3702"/>
<text text-anchor="middle" x="215.9327" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&lt;&#39;</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;¬ quote\n¬ tag -->
<g id="edge8" class="edge">
<title>¬ quote\ntag&#45;&gt;¬ quote\n¬ tag</title>
<path fill="none" stroke="#000000" d="M246.7874,-13.1073C238.8065,-10.93 230.4246,-9.0198 222.4327,-7.8701 212.8466,-6.491 202.7171,-7.2747 193.0521,-9.1447"/>
<polygon fill="#000000" stroke="#000000" points="192.136,-5.7643 183.1907,-11.4417 193.7241,-12.5819 192.136,-5.7643"/>
<text text-anchor="middle" x="215.9327" y="-11.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&gt;&#39;</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;¬ quote\ntag -->
<g id="edge5" class="edge">
<title>¬ quote\ntag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M274.4015,-53.1406C273.8371,-63.2978 278.0705,-71.7401 287.1017,-71.7401 292.8874,-71.7401 296.704,-68.2754 298.5515,-63.1146"/>
<polygon fill="#000000" stroke="#000000" points="302.0308,-63.4983 299.8019,-53.1406 295.0851,-62.6275 302.0308,-63.4983"/>
<text text-anchor="middle" x="287.1017" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&quot;&#39; ∧ ¬ &#39;&gt;&#39;</text>
</g>
<!-- quote\ntag -->
<g id="node4" class="node">
<title>quote\ntag</title>
<ellipse fill="#ffdab9" stroke="#000000" cx="418.6616" cy="-26.8701" rx="38.7821" ry="26.7407"/>
<text text-anchor="middle" x="418.6616" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">quote</text>
<text text-anchor="middle" x="418.6616" y="-15.6701" font-family="Raleway" font-size="14.00" fill="#000000">tag</text>
</g>
<!-- ¬ quote\ntag&#45;&gt;quote\ntag -->
<g id="edge4" class="edge">
<title>¬ quote\ntag&#45;&gt;quote\ntag</title>
<path fill="none" stroke="#000000" d="M333.8553,-26.8701C345.3941,-26.8701 357.7875,-26.8701 369.4395,-26.8701"/>
<polygon fill="#000000" stroke="#000000" points="369.4482,-30.3702 379.4482,-26.8701 369.4482,-23.3702 369.4482,-30.3702"/>
<text text-anchor="middle" x="356.7708" y="-30.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&quot;&#39;</text>
</g>
<!-- quote\ntag&#45;&gt;¬ quote\ntag -->
<g id="edge7" class="edge">
<title>quote\ntag&#45;&gt;¬ quote\ntag</title>
<path fill="none" stroke="#000000" d="M384.8162,-13.5899C377.339,-11.2158 369.3766,-9.1066 361.7708,-7.8701 352.9453,-6.4353 343.6379,-7.0451 334.7019,-8.7297"/>
<polygon fill="#000000" stroke="#000000" points="333.7592,-5.3556 324.8162,-11.0366 335.35,-12.1724 333.7592,-5.3556"/>
<text text-anchor="middle" x="356.7708" y="-11.6701" font-family="Raleway" font-size="14.00" fill="#000000">&#39;&quot;&#39;</text>
</g>
<!-- quote\ntag&#45;&gt;quote\ntag -->
<g id="edge6" class="edge">
<title>quote\ntag&#45;&gt;quote\ntag</title>
<path fill="none" stroke="#000000" d="M407.4803,-52.6914C406.8486,-63.0476 410.5757,-71.7401 418.6616,-71.7401 423.8417,-71.7401 427.2329,-68.1727 428.8352,-62.8859"/>
<polygon fill="#000000" stroke="#000000" points="432.3422,-62.9872 429.843,-52.6914 425.3761,-62.2985 432.3422,-62.9872"/>
<text text-anchor="middle" x="418.6616" y="-75.5401" font-family="Raleway" font-size="14.00" fill="#000000">¬ &#39;&quot;&#39;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's our function in its "final" state. As software goes, software is never final – and this may also hold for our function, as there is still room for improvement. For this chapter though, we leave it be.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html_markup</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">quote</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">tag</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">quote</span>

        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">quote</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">quote</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">quote</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Commit-the-Fix">Commit the Fix<a class="anchor-link" href="#Commit-the-Fix">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>It may sound obvious, but your fix is worth nothing if it doesn't go into production. Be sure to commit your change to the code repository, together with your diagnosis. If your fix has to be approved by a third party, a good diagnosis on why and what happened is immensely helpful.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Close-the-Bug-Report">Close the Bug Report<a class="anchor-link" href="#Close-the-Bug-Report">&#182;</a></h3><p>If you <a href="Tracking.html">systematically track bugs</a>, and your bug is properly tracked, now is the time to mark the issue as "resolved". Check for duplicates of the issue and check whether they are resolved, too. And now, you are finally done:</p>
<p><img src="https://media.giphy.com/media/nbJUuYFI6s0w0/giphy.gif" alt=""></p>
<p>Time to relax – and look for the next bug!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Become-a-Better-Debugger">Become a Better Debugger<a class="anchor-link" href="#Become-a-Better-Debugger">&#182;</a></h2><p>We have now systematically fixed a bug. In this book, we will explore a number of techniques to make debugging easier – coming up with automated diagnoses, explanations, even automatic repairs, including for our example above. But there are also a number of things <em>you</em> can do to become a better debugger.</p>
<h3 id="Follow-the-Process">Follow the Process<a class="anchor-link" href="#Follow-the-Process">&#182;</a></h3><p>If you're an experienced programmer, you may have spotted the problem in <code>remove_html_markup()</code> immediately, and start fixing the code right away. But this is dangerous and risky.</p>
<p>Why is this so?  Well, because you should first</p>
<ul>
<li>try to understand the problem, and </li>
<li>have a full diagnosis before starting to fix away.</li>
</ul>
<p>You <em>can</em> skip these steps, and jump right to your interactive debugger the very moment you see a failure, happily stepping through their program. This may even work well for simple problems, including this one. The risk, however, is that this narrows your view to just this one execution, which limits your ability to understand <em>all</em> the circumstances of the problem. Even worse: If you start "fixing" the bug without exactly understanding the problem, you may end up with an incomplete solution – as illustrated in "The Devil's Guide to Debugging", above.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Keep-a-Log">Keep a Log<a class="anchor-link" href="#Keep-a-Log">&#182;</a></h3><p>A second risk of starting debugging too soon is that it lets you easily deviate from a systematic process. Remember how we wrote down every experiment in a table? How we numbered every hypothesis? This is not just for teaching. Writing these things down explicitly allow you to keep track of all your observations and hypotheses over time.</p>
<table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;b&gt;foo&lt;/b&gt;</code></td>
<td><code>foo</code></td>
<td><code>foo</code></td>
<td>✔</td>
</tr>
</tbody>
</table>
<p>Every time you come up with a new hypothesis, you can immediately check it against your earlier observations, which will help you eliminating unlikely ones from the start. This is a bit like in the classic "Mastermind" board game, in which you have to guess some secret combination of pins, and in which you opponent gives you hints on whether and how your guesses are correct. At any time, you can see your previous guesses (experiments) and the results (observations) you got; any new guess (hypothesis) has to be consistent with the previous observations and experiments.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="https://upload.wikimedia.org/wikipedia/commons/2/2d/Mastermind.jpg" alt="Master Mind Board Grame"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Keeping such a log also allows you to interrupt your debugging session at any time. You can be home in time, sleep over the problem, and resume the next morning with a refreshed mind. You can even hand over the log to someone else, stating your findings so far.</p>
<p>The alternative to having a log is to <em>keep all in memory</em>. This only works for short amounts of time, as it puts a higher and higher cognitive load on your memory as you debug along. After some time, you will forget earlier observations, which leads to mistakes. Worst of all, any interruption will break your concentration and make you forget things, so you can't stop debugging until you're done.</p>
<p>Sure, if you are a real master, you can stay glued to the screen all night. But I'd rather be home in time, thank you.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Rubberducking">Rubberducking<a class="anchor-link" href="#Rubberducking">&#182;</a></h3><p>A great technique to revisit your observations and to come up with new hypotheses is to <em>explain the problem to someone else</em>. In this process, the "someone else" is important, but even more important is that <em>you are explaining the problem to yourself</em>! As Kernighan and Pike [Kernighan <em>et al</em>, 1999.] put it:</p>
<blockquote><p>Sometimes it takes no more than a few sentences, followed by an embarrassed "Never mind. I see what's wrong. Sorry to bother you."</p>
</blockquote>
<p>The reason why this works is that teaching someone else forces you to take different perspectives, and these help you resolving the inconsistency between what you assume and what you actually observe.</p>
<p>Since that "someone else" can be totally passive, you can even replace her with an inanimate object to talk to – even a rubber duck. This technique is called <em>rubber duck debugging</em> or <em>rubberducking</em> – the idea is that you explain your problem to a rubber duck first before interrupting one of your co-workers with the problem. Some programmers, when asked for advice, explicitly request that you "explain your problem to the duck first", knowing that this resolves a good fraction of problems.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="https://upload.wikimedia.org/wikipedia/commons/d/d5/Rubber_duck_assisting_with_debugging.jpg" alt="Rubber duck debugging"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="The-Cost-of-Debugging">The Cost of Debugging<a class="anchor-link" href="#The-Cost-of-Debugging">&#182;</a></h2><p>And it's not only that debugging takes time – the worst thing is that it is a search process, which can take anything between a few minutes and several hours, sometimes even days and weeks.  But even if you never know how much time a bug will take, it's a bit of blessing to use a process which gradually gets you towards its cause.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Debugging-Aftermath">Debugging Aftermath<a class="anchor-link" href="#Debugging-Aftermath">&#182;</a></h2><p>The fix of a bug may lead to a code construct, a more complex condition or another solution which may look strange on first sight.
Often the initial code was easier to understand but did not catch all cases. After fixing a bug it may be beneficial to
write down why the code now looks like this and what caused the more complex construct. A comment right at the fixed location
will help future programmers to not be confused or even re-introduce the bug while refactoring for better readability.
And of course, helpful comments at complex code locations should even exist before something went wrong with the code -- but
thats a chapter in another book.</p>
<h2 id="History-of-Debugging">History of Debugging<a class="anchor-link" href="#History-of-Debugging">&#182;</a></h2><p>Engineers and programmers have long used the term "bug" for faults in their systems – as if it were something that crept into an otherwise flawless program to cause the effects that none could explain. And from a psychological standpoint, it is far easier to blame some "bug" rather than taking responsibility ourselves. In the end, though, we have to face the fact: We made the bugs, and they are ours to fix.</p>
<p>Having said that, there has been one recorded instance where a real bug has crept into a system. That was on September 9, 1947, when a moth got stuck in the relay of a Harvard Mark II machine.  This event was logged, and the log book is now on display at the Smithsonian Natural Museum of American History, as "First actual case of bug being found."</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="https://upload.wikimedia.org/wikipedia/commons/f/ff/First_Computer_Bug%2C_1945.jpg" alt="First actual case of bug being found"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The actual term "bug", however, is much older. What do you think is its origin?</p>
</div>
</div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

    <script>
    var bad_answers = new Map();

    function answer(quiz_id) {
        ans = 0;
        for (i = 1;; i++) {
            checkbox = document.getElementById(quiz_id + "-" + i.toString());
            if (!checkbox)
                break;
            if (checkbox.checked)
                ans |= (1 << i);
        }
        return ans;
    }
    function check_selection(quiz_id, correct_answer, multiple_choice, hint) {
        given_answer = answer(quiz_id);
        if (given_answer == correct_answer)
        {
            document.getElementById(quiz_id + "-submit").value = "Correct!";
            document.getElementById(quiz_id + "-hint").innerHTML = "";

            for (i = 1;; i++) {
                checkbox = document.getElementById(quiz_id + "-" + i.toString());
                label = document.getElementById(quiz_id + "-" + i.toString() + "-label")
                if (!checkbox)
                    break;

                if (checkbox.checked) {
                    label.style.fontWeight = "bold";
                }
                else {
                    label.style.textDecoration = "line-through";
                }
            }
        }
        else 
        {
            document.getElementById(quiz_id + "-submit").value = "Try again";

            if (!bad_answers.has(quiz_id)) {
                bad_answers.set(quiz_id, 1);
            }
            else {
                bad_answers.set(quiz_id, bad_answers.get(quiz_id) + 1);
            }

            if (bad_answers.get(quiz_id) >= 2 && hint.length > 0) {
                document.getElementById(quiz_id + "-hint").innerHTML = 
                    "&nbsp;&nbsp;(Hint: <code>" + hint + "</code>)";
            }

            if (!multiple_choice) {
                for (i = 1;; i++) {
                    checkbox = document.getElementById(quiz_id + "-" + i.toString());
                    label = document.getElementById(quiz_id + "-" + i.toString() + "-label")

                    if (!checkbox)
                        break;
                    if (checkbox.checked) {
                        label.style.textDecoration = "line-through";
                    }
                }
            }
        }
    }
    function clear_selection(quiz_id) {
        document.getElementById(quiz_id + "-submit").value = "Submit";
        document.getElementById(quiz_id + "-hint").innerHTML = "";
    }
    </script>

    <div class="quiz">
    <h3 class="quiz_title">Quiz</h3>
    <p>
    <div class="quiz_question">Where has the name "bug" been used to denote disruptive events?</div>
    </p>
    <p>
    <div class="quiz_options" title="Check all that apply.">

        <input type="checkbox" name="6e57e0b0-8338-11eb-858d-acde48001122" id="6e57e0b0-8338-11eb-858d-acde48001122-1" onclick="clear_selection('6e57e0b0-8338-11eb-858d-acde48001122')">
        <label id="6e57e0b0-8338-11eb-858d-acde48001122-1-label" for="6e57e0b0-8338-11eb-858d-acde48001122-1">In the early days of Morse telegraphy, referring to a special key that would send a string of dots</label><br>

        <input type="checkbox" name="6e57e0b0-8338-11eb-858d-acde48001122" id="6e57e0b0-8338-11eb-858d-acde48001122-2" onclick="clear_selection('6e57e0b0-8338-11eb-858d-acde48001122')">
        <label id="6e57e0b0-8338-11eb-858d-acde48001122-2-label" for="6e57e0b0-8338-11eb-858d-acde48001122-2">Among radio technicians to describe a device that converts electromagnetic field variations into acoustic signals</label><br>

        <input type="checkbox" name="6e57e0b0-8338-11eb-858d-acde48001122" id="6e57e0b0-8338-11eb-858d-acde48001122-3" onclick="clear_selection('6e57e0b0-8338-11eb-858d-acde48001122')">
        <label id="6e57e0b0-8338-11eb-858d-acde48001122-3-label" for="6e57e0b0-8338-11eb-858d-acde48001122-3">In Shakespeare's "Henry VI", referring to a walking spectre</label><br>

        <input type="checkbox" name="6e57e0b0-8338-11eb-858d-acde48001122" id="6e57e0b0-8338-11eb-858d-acde48001122-4" onclick="clear_selection('6e57e0b0-8338-11eb-858d-acde48001122')">
        <label id="6e57e0b0-8338-11eb-858d-acde48001122-4-label" for="6e57e0b0-8338-11eb-858d-acde48001122-4">In Middle English, where the word "bugge" is the basis for terms like "bugbear" and "bugaboo"</label><br>

    </div>
    </p>
    <input id="6e57e0b0-8338-11eb-858d-acde48001122-submit" type="submit" value="Submit" onclick="check_selection('6e57e0b0-8338-11eb-858d-acde48001122', 30, 1, '')">
    <span class="quiz_hint" id="6e57e0b0-8338-11eb-858d-acde48001122-hint"></span>
    </div>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Need help on this quiz? To learn more about the term "bug" and its origin, have a look at <a href="http://www.catb.org/~esr/jargon/html/B/bug.html">the etymology of the word "bug"</a> in <a href="http://www.catb.org/~esr/jargon/">The Jargon File</a>. Also check out the <a href="https://en.wikipedia.org/wiki/Debugging">Wikipedia entry on debugging</a>!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ol>
<li>An <em>error</em> is a deviation from what is correct, right, or true. Specifically,<ul>
<li>A <em>mistake</em> is a human act or decision resulting in an error.</li>
<li>A <em>defect</em> is an error in the program code. Also called <em>bug</em>.</li>
<li>A <em>fault</em> is an error in the program state. Also called <em>infection</em>.</li>
<li>A <em>failure</em> is an externally visible error in the program behavior. Also called <em>malfunction</em>.</li>
</ul>
</li>
<li>In a failing program execution, a mistake by the programmer results in a defect in the code, which creates a fault in the state, which propagates until it results in a failure. Tracing back fault propagation allows to identify the defect that causes the failure.</li>
<li>In debugging, the <em>scientific method</em> allows to systematically identify failure causes by gradually refining and refuting hypotheses based on experiments and observations.</li>
<li>Before fixing the defect, have a complete <em>diagnosis</em> that <ul>
<li>shows <em>causality</em> (how the defect causes the failure)</li>
<li>shows <em>incorrectness</em> (how the defect is wrong)</li>
</ul>
</li>
<li>You can become a better debugger by<ul>
<li>Following a systematic process like the scientific method</li>
<li>Keeping a log of your observations and hypotheses</li>
<li>Making your observations and conclusions explicit by telling them somebody (or something).</li>
</ul>
</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>In the next chapters, we will learn how to</p>
<ul>
<li><a href="Tracer.html">trace and observe executions</a></li>
<li><a href="Debugger.html">build your own interactive debugger</a></li>
<li><a href="StatisticalDebugger.html">locate defects automatically by correlating failures and code coverage</a></li>
<li><a href="DeltaDebugger.html">identify and simplify failure-inducing inputs</a></li>
</ul>
<p>Enjoy!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Background">Background<a class="anchor-link" href="#Background">&#182;</a></h2><p>There are several good books on debugging, but these three are especially recommended:</p>
<ul>
<li><em>Debugging</em> by Agans [<a href="https://dl.acm.org/doi/book/10.5555/555103">Agans <em>et al</em>, 2002.</a>] takes a pragmatic approach to debugging, highlighting systematic approaches that help for all kinds of application-specific problems;</li>
<li><em>Why Programs Fail</em> by Zeller [<a href="http://www.whyprogramsfail.com/">Andreas Zeller, 2009.</a>] takes a more academic approach, creating theories of how failures come to be and systematic debugging processes;</li>
<li><em>Effective Debugging</em> by Spinellis [<a href="https://www.spinellis.gr/debugging/">Diomidis Spinellis, 2016.</a>] aims for a middle ground between the two, creating general recipes and recommendations that easily instantiate towards specific problems.</li>
</ul>
<p>All these books focus on <em>manual</em> debugging and the debugging process, just like this chapter; for <em>automated</em> debugging, simply read on :-)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Get-Acquainted-with-Notebooks-and-Python">Exercise 1: Get Acquainted with Notebooks and Python<a class="anchor-link" href="#Exercise-1:-Get-Acquainted-with-Notebooks-and-Python">&#182;</a></h3><p>Your first exercise in this book is to get acquainted with notebooks and Python, such that you can run the code examples in the book – and try out your own. Here are a few tasks to get you started.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Beginner-Level:-Run-Notebooks-in-Your-Browser">Beginner Level: Run Notebooks in Your Browser<a class="anchor-link" href="#Beginner-Level:-Run-Notebooks-in-Your-Browser">&#182;</a></h4><p>The easiest way to get access to the code is to run them in your browser.</p>
<ol>
<li>From the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the menu at the top. Select <code>Resources</code> $\rightarrow$ <code>Edit as Notebook</code>.</li>
<li>After a short waiting time, this will open a Jupyter Notebook right within your browser, containing the current chapter as a notebook.</li>
<li>You can again scroll through the material, but you click on any code example to edit and run its code (by entering <kbd>Shift</kbd> + <kbd>Return</kbd>). You can edit the examples as you please.</li>
<li>Note that code examples typically depend on earlier code, so be sure to run the preceding code first.</li>
<li>Any changes you make will not be saved (unless you save your notebook to disk).</li>
</ol>
<p>For help on Jupyter Notebooks, from the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the <code>Help</code> menu.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Advanced-Level:-Run-Python-Code-on-Your-Machine">Advanced Level: Run Python Code on Your Machine<a class="anchor-link" href="#Advanced-Level:-Run-Python-Code-on-Your-Machine">&#182;</a></h4><p>This is useful if you want to make greater changes, but do not want to work with Jupyter.</p>
<ol>
<li>From the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the menu at the top. Select <code>Resources</code> $\rightarrow$ <code>Download Code</code>. </li>
<li>This will download the Python code of the chapter as a single Python .py file, which you can save to your computer.</li>
<li>You can then open the file, edit it, and run it in your favorite Python environment to re-run the examples.</li>
<li>Most importantly, you can <a href="Importing.html">import it</a> into your own code and reuse functions, classes, and other resources.</li>
</ol>
<p>For help on Python, from the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the <code>Help</code> menu.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Pro-Level:-Run-Notebooks-on-Your-Machine">Pro Level: Run Notebooks on Your Machine<a class="anchor-link" href="#Pro-Level:-Run-Notebooks-on-Your-Machine">&#182;</a></h4><p>This is useful if you want to work with Jupyter on your machine. This will allow you to also run more complex examples, such as those with graphical output.</p>
<ol>
<li>From the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the menu at the top. Select <code>Resources</code> $\rightarrow$ <code>All Notebooks</code>. </li>
<li>This will download all Jupyter Notebooks as a collection of .ipynb files, which you can save to your computer.</li>
<li>You can then open the notebooks in Jupyter Notebook or Jupyter Lab, edit them, and run them. To navigate across notebooks, open the notebook <a href="00_Table_of_Contents.html"><code>00_Table_of_Contents.ipynb</code></a>.</li>
<li>You can also download individual notebooks using Select <code>Resources</code> $\rightarrow$ <code>Download Notebook</code>. Running these, however, will require that you have the other notebooks downloaded already.</li>
</ol>
<p>For help on Jupyter Notebooks, from the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the <code>Help</code> menu.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Boss-Level:-Contribute!">Boss Level: Contribute!<a class="anchor-link" href="#Boss-Level:-Contribute!">&#182;</a></h4><p>This is useful if you want to contribute to the book with patches or other  material. It also gives you access to the very latest version of the book.</p>
<ol>
<li>From the <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Web Page</a>, check out the menu at the top. Select <code>Resources</code> $\rightarrow$ <code>Project Page</code>. </li>
<li>This will get you to the GitHub repository which contains all sources of the book, including the latest notebooks.</li>
<li>You can then <em>clone</em> this repository to your disk, such that you get the latest and greatest.</li>
<li>You can report issues and suggest pull requests on the GitHub page.</li>
<li>Updating the repository with <code>git pull</code> will get you updated.</li>
</ol>
<p>If you want to contribute code or text, check out the <a href="Guide_for_Authors.html">Guide for Authors</a>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-More-Bugs!">Exercise 2: More Bugs!<a class="anchor-link" href="#Exercise-2:-More-Bugs!">&#182;</a></h3><p>You may have noticed that our <code>remove_html_markup()</code> function is still not working perfectly under all circumstances.  The error has something to do with different quotes occurring in the input.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?filepath=docs/notebooks/Intro_Debugging.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-Find-the-Problem">Part 1: Find the Problem<a class="anchor-link" href="#Part-1:-Find-the-Problem">&#182;</a></h4><p>What does the problem look like? Set up a test case that demonstrates the problem.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Set up additional test cases as useful.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?filepath=docs/notebooks/Intro_Debugging.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Identify-Extent-and-Cause">Part 2: Identify Extent and Cause<a class="anchor-link" href="#Part-2:-Identify-Extent-and-Cause">&#182;</a></h4><p>Using the scientific method, identify the extent and cause of the problem. Write down your hypotheses and log your observations, as in</p>
<table>
<thead><tr>
<th>Input</th>
<th>Expectation</th>
<th>Output</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td>(input)</td>
<td>(expectation)</td>
<td>(output)</td>
<td>(outcome)</td>
</tr>
</tbody>
</table>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?filepath=docs/notebooks/Intro_Debugging.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-3:-Fix-the-Problem">Part 3: Fix the Problem<a class="anchor-link" href="#Part-3:-Fix-the-Problem">&#182;</a></h4><p>Design a fix for the problem. Show that it satisfies the earlier tests and does not violate any existing test.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?filepath=docs/notebooks/Intro_Debugging.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

        
<p class="imprint">
<img style="float:right" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Creative Commons License">
The content of this project is licensed under the
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
The source code that is part of the content, as well as the source code used to format and display that content is licensed under the <a href="https://github.com/uds-se/debuggingbook/blob/master/LICENSE.md#mit-license">MIT License</a>.
<a href="https://github.com/uds-se/debuggingbook/commits/master/notebooks/Intro_Debugging.ipynb" target=_blank)>Last change: 2021-03-12 14:28:28+01:00</a> &bull; 
<a href="#citation" id="cite" onclick="revealCitation()">Cite</a> &bull;
<a href="https://cispa.de/en/impressum" target=_blank>Imprint</a>
</p>

<script>
function revealCitation() {
    var c = document.getElementById("citation");
    c.style.display = "block";
}
</script>

<div id="citation" class="citation" style="display: none;">
<a name="citation"></a>
<h2>How to Cite this Work</h2>
<p>
Andreas Zeller: "<a href="https://www.debuggingbook.org/html/Intro_Debugging.html">Introduction to Debugging</a>".  In Andreas Zeller, "<a href="https://www.debuggingbook.org/">The Debugging Book</a>", <a href="https://www.debuggingbook.org/html/Intro_Debugging.html">https://www.debuggingbook.org/html/Intro_Debugging.html</a>.  Retrieved 2021-03-12 14:28:28+01:00.
</p>
<pre>
@incollection{debuggingbook2021:Intro_Debugging,
    author = {Andreas Zeller},
    booktitle = {The Debugging Book},
    title = {Introduction to Debugging},
    year = {2021},
    publisher = {CISPA Helmholtz Center for Information Security},
    howpublished = {\url{https://www.debuggingbook.org/html/Intro_Debugging.html}},
    note = {Retrieved 2021-03-12 14:28:28+01:00},
    url = {https://www.debuggingbook.org/html/Intro_Debugging.html},
    urldate = {2021-03-12 14:28:28+01:00}
}
</pre>
</div>

      </div>
    </div>
    </article>

 </body>

</html>